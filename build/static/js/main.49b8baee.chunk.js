(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(23)},21:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a,r,s=n(0),c=n.n(s),o=n(13),u=n.n(o),i=n(1),p=n(2),l=n(4),h=n(3),f=n(5),y=Object(s.createContext)({}),d=y.Consumer,m=y.Provider,b=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(f.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement(d,null,function(n){return c.a.createElement(e,Object.assign({},t.props,{audioContext:n}))})}}]),n}(s.Component)},O=n(9),j=n.n(O),v=n(10),k=Object(s.createContext)({}),q=k.Provider,E=k.Consumer,C=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(f.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement(E,null,function(n){return c.a.createElement(e,Object.assign({},t.props,{mixer:n}))})}}]),n}(s.Component)},g=Object(s.createContext)({}),x=g.Provider,S=g.Consumer,w=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(f.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement(S,null,function(n){return c.a.createElement(e,Object.assign({},t.props,{soundBank:n}))})}}]),n}(s.Component)},N="Drum Machine",A=C(b(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={soundsLoaded:!1},n.soundFiles=[{id:"hat",name:"Hi\u2014Hat",path:"sounds/hat.wav"},{id:"kick",name:"Kick",path:"sounds/kick.wav"},{id:"snare",name:"Snare",path:"sounds/snare.wav"}],n.mixerInputs={},n.soundBank={},n.loadSounds=function(e){return Promise.all(e.map(function(e){return n.loadSound(e)})).then(function(){return n.setState({soundsLoaded:!0})})},n.loadSound=function(e){return fetch(e.path).then(function(e){return e.arrayBuffer()}).then(function(e){return n.props.audioContext.decodeAudioData(e)}).then(function(t){n.addSoundToSoundBank({id:e.id,name:e.name,buffer:t}),n.createMixerInput(e.id)})},n.addSoundToSoundBank=function(e){n.soundBank[e.id]={id:e.id,name:e.name,buffer:e.buffer}},n.createMixerInput=function(){var e=Object(v.a)(j.a.mark(function e(t){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.mixer.createInput(N);case 2:a=e.sent,n.mixerInputs[t]=a;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.playSound=function(e){var t=n.soundBank[e].buffer,a=n.mixerInputs[e],r=n.props.audioContext.createBufferSource();r.buffer=t,r.connect(a),r.start(0)},n.loadSounds(n.soundFiles),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.state.soundsLoaded?c.a.createElement(x,{value:{sounds:this.soundBank,playSound:this.playSound}},this.props.children):null}}]),t}(s.Component))),I=n(6),K=n(7),B=n(11),M=Object(s.createContext)({}),P=M.Provider,T=M.Consumer,_=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(f.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement(T,null,function(n){return c.a.createElement(e,Object.assign({},t.props,{drumMachineActions:n}))})}}]),n}(s.Component)},G=Object(s.createContext)({}),H=G.Provider,L=G.Consumer,z=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(f.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement(L,null,function(n){return c.a.createElement(e,Object.assign({},t.props,{drumMachineState:n}))})}}]),n}(s.Component)},D=function(e){return Object.keys(e).map(function(t){return e[t]})},R=n(8),U=n.n(R),F=w(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).SEQUENCE_LENGTH=16,n.deriveTracksFromSoundBank=function(){var e=n.props.soundBank.sounds;return D(e).reduce(function(e,t){return e[t.id]={soundId:t.id,sequence:new Array(n.SEQUENCE_LENGTH).fill(0)},e},{})},n.state={playing:!1,bpm:120,tracks:n.deriveTracksFromSoundBank(),noteIndex:0},n.setSequenceNote=function(e,t,a){var r=Object(B.a)(n.state.tracks[e].sequence);return r[t]=a,n.setState({tracks:Object(K.a)({},n.state.tracks,Object(I.a)({},e,Object(K.a)({},n.state.tracks[e],{sequence:r})))})},n.play=function(){n.state.playing||n.setState({playing:!0},function(){return n.playNoteAt(0)})},n.stop=function(){n.state.playing&&n.setState({playing:!1})},n.setBpm=function(e){return n.setState({bpm:e})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"playNoteAt",value:function(e){var t=this;if(this.state.playing)return this.tracksAsArray.forEach(function(n){n.sequence[e]&&t.props.soundBank.playSound(n.soundId)}),this.setState({noteIndex:e}),setTimeout(function(){return e===t.SEQUENCE_LENGTH-1?t.playNoteAt(0):t.playNoteAt(e+1)},this.beatsPerMillisecond)}},{key:"render",value:function(){return c.a.createElement("div",{className:"border-gray p1_5 inline-block"},c.a.createElement(H,{value:{playing:this.state.playing,bpm:this.state.bpm,noteIndex:this.state.noteIndex}},c.a.createElement(P,{value:{setSequenceNote:this.setSequenceNote,play:this.play,stop:this.stop,setBpm:this.setBpm}},c.a.createElement(W,null),c.a.createElement(X,{tracks:this.tracksAsArray}),c.a.createElement(Q,null))))}},{key:"tracksAsArray",get:function(){return D(this.state.tracks)}},{key:"beatsPerMillisecond",get:function(){return 6e4/this.state.bpm}}]),t}(s.Component)),W=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"flex justify-between mb2"},c.a.createElement("span",{className:"uppercase"},"Drum Machine"),c.a.createElement(V,null))}}]),t}(s.Component),V=z(function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=U()("StatusIndicator",{"StatusIndicator--active":this.props.drumMachineState.playing});return c.a.createElement("div",{className:"StatusIndicator__Container"},c.a.createElement("div",{className:e}))}}]),t}(s.Component)),Q=z(_(function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"renderPlayButton",value:function(){var e=U()("Button h100 mr_5",{"drop-shadow":!this.props.drumMachineState.playing,"inner-shadow":this.props.drumMachineState.playing});return c.a.createElement("button",{className:e,onClick:this.props.drumMachineActions.play},"play")}},{key:"renderStopButton",value:function(){var e=U()("Button h100",{"drop-shadow":this.props.drumMachineState.playing,"inner-shadow":!this.props.drumMachineState.playing});return c.a.createElement("button",{className:e,onClick:this.props.drumMachineActions.stop},"stop")}},{key:"render",value:function(){return c.a.createElement("div",{className:"Controls flex justify-between mt2"},c.a.createElement("div",{className:"mr2"},this.renderPlayButton(),this.renderStopButton()),c.a.createElement("div",null,c.a.createElement(J,{onChange:this.props.drumMachineActions.setBpm,value:this.props.drumMachineState.bpm})))}}]),t}(s.Component))),J=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){return n.props.onChange(e.target.value)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"h100 relative"},c.a.createElement("input",{className:"Input h100 inner-shadow",onChange:this.onChange,value:this.props.value,type:"number",min:"1",max:"999"}),c.a.createElement("span",{className:"detail color-gray overlay events-none flex justify-end items-center pr2"},"BPM"))}}]),t}(s.Component),X=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.props.tracks.map(function(e){return c.a.createElement(Y,{track:e,key:e.soundId})})}}]),t}(s.Component),Y=w(_(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onSequenceKeyClick=function(){return function(e,t){return n.props.drumMachineActions.setSequenceNote(n.props.track.soundId,e,t)}},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"mb1_5 text-left"},c.a.createElement("div",{className:"mb_5"},this.soundName),c.a.createElement(Z,{sequence:this.props.track.sequence,onClickKey:this.onSequenceKeyClick()}))}},{key:"soundName",get:function(){return this.props.soundBank.sounds[this.props.track.soundId].name}}]),t}(s.Component))),Z=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"flex"},this.props.sequence.map(function(t,n){return c.a.createElement($,{note:t,index:n,key:n,onClick:e.props.onClickKey})}))}}]),t}(s.Component),$=z(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){var e=0===n.props.note?1:0;return n.props.onClick(n.props.index,e)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:this.classes,onClick:this.onClick})}},{key:"on",get:function(){return 1===this.props.note}},{key:"active",get:function(){return!!this.props.drumMachineState.playing&&this.props.drumMachineState.noteIndex===this.props.index}},{key:"classes",get:function(){return U()("Key mr_375 border-radius",{"drop-shadow":!this.on,"inner-shadow":this.on,"bg-color-white":!this.active,"bg-color-light-gray":this.active})}}]),t}(s.Component)),ee=Object(s.createContext)({}),te=ee.Provider,ne=ee.Consumer,ae=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(f.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement(ne,null,function(n){return c.a.createElement(e,Object.assign({},t.props,{synthesizerActions:n}))})}}]),n}(s.Component)},re=Object(s.createContext)({}),se=re.Provider,ce=re.Consumer,oe="A",ue="ASHARP",ie="B",pe="C",le="C2",he="CSHARP",fe="D",ye="DSHARP",de="E",me="F",be="FHSARP",Oe="G",je="GSHARP",ve=3,ke="sine",qe=(a={},Object(I.a)(a,pe,65),Object(I.a)(a,he,87),Object(I.a)(a,fe,83),Object(I.a)(a,ye,69),Object(I.a)(a,de,68),Object(I.a)(a,me,70),Object(I.a)(a,be,84),Object(I.a)(a,Oe,71),Object(I.a)(a,je,89),Object(I.a)(a,oe,72),Object(I.a)(a,ue,85),Object(I.a)(a,ie,74),Object(I.a)(a,le,75),a),Ee=65.40639,Ce=130.8128,ge=261.6256,xe=523.2511,Se=1046.502,we=2093.005,Ne=4186.009,Ae=[[{note:pe,frequency:32.7032,sharp:!1},{note:he,frequency:34.64783,sharp:!0},{note:fe,frequency:36.7081,sharp:!1},{note:ye,frequency:38.89087,sharp:!0},{note:de,frequency:41.20344,sharp:!1},{note:me,frequency:43.65353,sharp:!1},{note:be,frequency:46.2493,sharp:!0},{note:Oe,frequency:48.99943,sharp:!1},{note:je,frequency:51.91309,sharp:!0},{note:oe,frequency:55,sharp:!1},{note:ue,frequency:58.27047,sharp:!0},{note:ie,frequency:61.73541,sharp:!1},{note:le,frequency:Ee,sharp:!1}],[{note:pe,frequency:Ee,sharp:!1},{note:he,frequency:69.29566,sharp:!0},{note:fe,frequency:73.41619,sharp:!1},{note:ye,frequency:77.78175,sharp:!0},{note:de,frequency:82.40689,sharp:!1},{note:me,frequency:87.30706,sharp:!1},{note:be,frequency:92.49861,sharp:!0},{note:Oe,frequency:97.99886,sharp:!1},{note:je,frequency:103.8262,sharp:!0},{note:oe,frequency:110,sharp:!1},{note:ue,frequency:116.5409,sharp:!0},{note:ie,frequency:123.4708,sharp:!1},{note:le,frequency:Ce,sharp:!1}],[{note:pe,frequency:Ce,sharp:!1},{note:he,frequency:138.5913,sharp:!0},{note:fe,frequency:146.8324,sharp:!1},{note:ye,frequency:155.5635,sharp:!0},{note:de,frequency:164.8138,sharp:!1},{note:me,frequency:174.6141,sharp:!1},{note:be,frequency:184.9972,sharp:!0},{note:Oe,frequency:195.9977,sharp:!1},{note:je,frequency:207.6523,sharp:!0},{note:oe,frequency:220,sharp:!1},{note:ue,frequency:233.0819,sharp:!0},{note:ie,frequency:246.9417,sharp:!1},{note:le,frequency:ge,sharp:!1}],[{note:pe,frequency:ge,sharp:!1},{note:he,frequency:277.1826,sharp:!0},{note:fe,frequency:293.6648,sharp:!1},{note:ye,frequency:311.127,sharp:!0},{note:de,frequency:329.6276,sharp:!1},{note:me,frequency:349.2282,sharp:!1},{note:be,frequency:369.9944,sharp:!0},{note:Oe,frequency:391.9954,sharp:!1},{note:je,frequency:415.3047,sharp:!0},{note:oe,frequency:440,sharp:!1},{note:ue,frequency:466.1638,sharp:!0},{note:ie,frequency:493.8833,sharp:!1},{note:le,frequency:xe,sharp:!1}],[{note:pe,frequency:xe,sharp:!1},{note:he,frequency:554.3653,sharp:!0},{note:fe,frequency:587.3295,sharp:!1},{note:ye,frequency:622.254,sharp:!0},{note:de,frequency:659.2551,sharp:!1},{note:me,frequency:698.4565,sharp:!1},{note:be,frequency:739.9888,sharp:!0},{note:Oe,frequency:783.9909,sharp:!1},{note:je,frequency:830.6094,sharp:!0},{note:oe,frequency:880,sharp:!1},{note:ue,frequency:932.3275,sharp:!0},{note:ie,frequency:987.7666,sharp:!1},{note:le,frequency:Se,sharp:!1}],[{note:pe,frequency:Se,sharp:!1},{note:he,frequency:1108.731,sharp:!0},{note:fe,frequency:1174.659,sharp:!1},{note:ye,frequency:1244.508,sharp:!0},{note:de,frequency:1318.51,sharp:!1},{note:me,frequency:1396.913,sharp:!1},{note:be,frequency:1479.978,sharp:!0},{note:Oe,frequency:1567.982,sharp:!1},{note:je,frequency:1661.219,sharp:!0},{note:oe,frequency:1760,sharp:!1},{note:ue,frequency:1864.655,sharp:!0},{note:ie,frequency:1975.533,sharp:!1},{note:le,frequency:we,sharp:!1}],[{note:pe,frequency:we,sharp:!1},{note:he,frequency:2217.461,sharp:!0},{note:fe,frequency:2349.318,sharp:!1},{note:ye,frequency:2489.016,sharp:!0},{note:de,frequency:2637.02,sharp:!1},{note:me,frequency:2793.826,sharp:!1},{note:be,frequency:2959.955,sharp:!0},{note:Oe,frequency:3135.963,sharp:!1},{note:je,frequency:3322.438,sharp:!0},{note:oe,frequency:3520,sharp:!1},{note:ue,frequency:3729.31,sharp:!0},{note:ie,frequency:3951.066,sharp:!1},{note:le,frequency:Ne,sharp:!1}],[{note:pe,frequency:Ne,sharp:!1},{note:he,frequency:4434.922,sharp:!0},{note:fe,frequency:4698.636,sharp:!1},{note:ye,frequency:4978.032,sharp:!0},{note:de,frequency:5274.041,sharp:!1},{note:me,frequency:5587.652,sharp:!1},{note:be,frequency:5919.911,sharp:!0},{note:Oe,frequency:6271.927,sharp:!1},{note:je,frequency:6644.875,sharp:!0},{note:oe,frequency:7040,sharp:!1},{note:ue,frequency:7458.62,sharp:!0},{note:ie,frequency:7902.133,sharp:!1},{note:le,frequency:8372.019,sharp:!1}]],Ie=C(b(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={octaveIndex:ve,waveform:ke,keys:{}},n.setOctaveIndex=function(e){return n.disconnectAllOctave(),n.setState({octaveIndex:e})},n.setWaveform=function(e){return D(n.state.keys).forEach(function(t){t.oscillator.type=e}),n.setState({waveform:e})},n.connectOscillator=function(e){n.setState({keys:Object(K.a)({},n.state.keys,Object(I.a)({},e,Object(K.a)({},n.state.keys[e],{isPressed:!0})))},function(){n.state.keys[e].oscillator.connect(n.state.keys[e].mixerInput)})},n.disconnectOscillator=function(e){n.setState({keys:Object(K.a)({},n.state.keys,Object(I.a)({},e,Object(K.a)({},n.state.keys[e],{isPressed:!1})))},function(){n.state.keys[e].oscillator.disconnect()})},n.onKeyDown=function(e){if(n.enabledKeys.includes(e.keyCode))return n.connectOscillator(e.keyCode)},n.onKeyUp=function(e){if(n.enabledKeys.includes(e.keyCode))return n.disconnectOscillator(e.keyCode)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setEnabledKeys(),this.setOctaveKeys(),this.bindKeyboardEvents()}},{key:"componentDidUpdate",value:function(e,t){if(t.octaveIndex!==this.state.octaveIndex)return this.setOctaveKeys()}},{key:"setEnabledKeys",value:function(){this.enabledKeys=D(qe)}},{key:"setOctaveKeys",value:function(){var e=Object(v.a)(j.a.mark(function e(){var t,n=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.octave.reduce(function(){var e=Object(v.a)(j.a.mark(function e(t,a,r){var s,c,o,u;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return s=e.sent,(c=n.props.audioContext.createOscillator()).type=n.state.waveform,c.frequency.setValueAtTime(a.frequency,n.props.audioContext.currentTime),c.start(),o=qe[a.note],e.next=10,n.props.mixer.createInput("Synthesizer");case 10:return u=e.sent,s[o]={index:r,triggerKeyCode:o,oscillator:c,mixerInput:u,isPressed:!1,sharp:a.sharp,frequency:a.frequency},e.abrupt("return",s);case 13:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}(),Promise.resolve({}));case 2:return t=e.sent,e.abrupt("return",this.setState({keys:t}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"bindKeyboardEvents",value:function(e){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}},{key:"disconnectAllOctave",value:function(){D(this.state.keys).forEach(function(e){return e.oscillator.disconnect()})}},{key:"render",value:function(){return c.a.createElement(se,{value:{octaveIndex:this.state.octaveIndex,waveform:this.state.waveform}},c.a.createElement(te,{value:{pressKey:this.connectOscillator,releaseKey:this.disconnectOscillator,setOctaveIndex:this.setOctaveIndex,setWaveform:this.setWaveform}},c.a.createElement("div",{className:"border-gray p1_5 inline-block"},c.a.createElement(Ke,null),c.a.createElement(_e,{keys:this.keys}),c.a.createElement(Me,null))))}},{key:"octave",get:function(){return Ae[this.state.octaveIndex]}},{key:"keys",get:function(){return D(this.state.keys).sort(function(e,t){return e.index-t.index})}}]),t}(s.Component))),Ke=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"flex justify-between mb2"},c.a.createElement("span",{className:"uppercase"},"Synthesizer"))}}]),t}(s.Component),Be=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"Controls flex justify-between mt2"},c.a.createElement("div",{className:"mr1_5"},c.a.createElement(Te,{onChange:this.props.synthesizerActions.setWaveform,value:this.props.synthesizerState.waveform})),c.a.createElement("div",null,c.a.createElement(Pe,{onChange:this.props.synthesizerActions.setOctaveIndex,value:this.props.synthesizerState.octaveIndex})))}}]),t}(s.Component),Me=(r=ae(Be),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(ce,null,function(t){return c.a.createElement(r,Object.assign({},e.props,{synthesizerState:t}))})}}]),t}(s.Component)),Pe=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){return n.props.onChange(e.target.value)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"h100 relative"},c.a.createElement("input",{className:"Input Input--small h100 inner-shadow",onChange:this.onChange,value:this.props.value,type:"number",max:Ae.length-1,min:0}),c.a.createElement("span",{className:"detail color-gray overlay events-none flex justify-end items-center pr2"},"OCTAVE"))}}]),t}(s.Component),Te=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){return n.props.onChange(e.target.value)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"h100 relative"},c.a.createElement("span",{className:"detail color-gray overlay events-none flex justify-end items-center pr1"},"WAVEFORM"),c.a.createElement("select",{className:"Select h100 inner-shadow",onChange:this.onChange,value:this.props.value},c.a.createElement("option",{value:ke},"SINE"),c.a.createElement("option",{value:"square"},"SQUARE"),c.a.createElement("option",{value:"sawtooth"},"SAWTOOTH"),c.a.createElement("option",{value:"triangle"},"TRIANGLE")))}}]),t}(s.Component),_e=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"Keyboard text-center"},c.a.createElement("div",{className:"inline-flex relative"},this.props.keys.map(function(t,n){var a=n===e.props.keys.length-1;return c.a.createElement(Ge,{keyObj:t,isLastKey:a,key:t.triggerKeyCode})})))}}]),t}(s.Component),Ge=ae(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).pressKey=function(){n.props.synthesizerActions.pressKey(n.props.keyObj.triggerKeyCode)},n.releaseKey=function(){n.props.synthesizerActions.releaseKey(n.props.keyObj.triggerKeyCode)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e="auto";return this.props.keyObj.sharp&&(e=this.props.keyObj.index>4?24*this.props.keyObj.index+24:24*this.props.keyObj.index),c.a.createElement("div",{className:this.classes,onMouseDown:this.pressKey,onMouseUp:this.releaseKey,onMouseOut:this.releaseKey,style:{left:e}})}},{key:"classes",get:function(){return U()("Key Key--large bg-color-white border-radius",{mr_5:!this.props.isLastKey,"drop-shadow":!this.props.keyObj.isPressed,"inner-shadow":this.props.keyObj.isPressed,"Key--sharp":this.props.keyObj.sharp,"Key--regular":!this.props.keyObj.sharp})}}]),t}(s.Component)),He=1,Le=b(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={inputs:{}},n.createInput=function(e){return new Promise(function(t){var a=n.props.audioContext.createGain();if(a.connect(n.props.audioContext.destination),!!n.state.inputs[e])return a.gain.value=n.state.inputs[e].gain,n.state.inputs[e].constantNode.connect(a.gain),n.setState({inputs:Object(K.a)({},n.state.inputs,Object(I.a)({},e,Object(K.a)({},n.state.inputs[e],{gainNodes:Object(B.a)(n.state.inputs[e].gainNodes).concat([a])})))},function(){return t(a)});a.gain.value=He;var r=n.props.audioContext.createConstantSource();return r.connect(a.gain),r.start(),n.setState({inputs:Object(K.a)({},n.state.inputs,Object(I.a)({},e,{id:e,gain:a.gain.value,constantNode:r,gainNodes:[a]}))},function(){return t(a)})})},n.updateInputGain=function(e,t){return n.state.inputs[e].constantNode.offset.value=t-He,n.setState({inputs:Object(K.a)({},n.state.inputs,Object(I.a)({},e,Object(K.a)({},n.state.inputs[e],{gain:t})))})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement(q,{value:{inputs:this.state.inputs,createInput:this.createInput,updateInputGain:this.updateInputGain}},c.a.createElement("div",{className:"border-gray p1_5 inline-block text-left"},c.a.createElement(ze,null),c.a.createElement(De,null)),this.props.children)}}]),t}(s.Component)),ze=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"flex justify-between mb2"},c.a.createElement("span",{className:"uppercase"},"Mixer"))}}]),t}(s.Component),De=C(function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"mt2"},this.inputsAsArray.map(function(t){return c.a.createElement("div",{key:t.id},c.a.createElement("p",null,t.id),c.a.createElement(Re,{value:t.gain,updateValue:function(n){return e.props.mixer.updateInputGain(t.id,n)}}))}))}},{key:"inputsAsArray",get:function(){return D(this.props.mixer.inputs)}}]),t}(s.Component)),Re=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.updateValue(e.target.value)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"w100"},c.a.createElement("input",{className:"Slider",type:"range",min:"0.0",max:"1.0",step:"0.01",value:this.props.value,onChange:this.handleChange,style:{width:500}}))}}]),t}(s.Component),Ue=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).audioContext=new(AudioContext||window.webkitAudioContext),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement(m,{value:this.audioContext},c.a.createElement("div",{className:"text-center mt4"},c.a.createElement(Le,null,c.a.createElement("div",{className:"flex justify-center mt2"},c.a.createElement("div",{className:"mr2"},c.a.createElement(Ie,null)),c.a.createElement("div",null,c.a.createElement(A,null,c.a.createElement(F,null)))))))}}]),t}(s.Component),Fe=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("main",null,c.a.createElement(Ue,null))}}]),t}(s.Component);n(21);u.a.render(c.a.createElement(Fe,null),document.getElementById("root"))}},[[14,2,1]]]);
//# sourceMappingURL=main.49b8baee.chunk.js.map