{"version":3,"sources":["components/Synthesizer/SynthesizerContext.js","components/Context/AudioContextContext.js","components/Mixer/MixerContext.js","components/SoundBank/SoundBankContext.js","components/SoundBank/index.js","components/DrumMachine/DrumMachineContext.js","utils/objectValues.js","components/DrumMachine/index.js","components/Synthesizer/Keyboard.js","components/Synthesizer/index.js","components/Mixer/index.js","components/Context/index.js","Main.js","index.js"],"names":["WrappedComponent","AudioContextContext","createContext","AudioContextConsumer","Consumer","AudioContextProvider","Provider","withAudioContext","_Component","WithAudioContextComponent","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","_this","react_default","a","createElement","audioContext","assign","props","Component","MixerContext","MixerProvider","MixerConsumer","withMixer","WithMixerContextComponent","mixer","SoundBankContext","SoundBankProvider","SoundBankConsumer","withSoundBank","WithSoundBankComponent","soundBank","MIXER_INPUT_ID","SoundBank","call","state","soundsLoaded","soundFiles","id","name","path","mixerInputs","loadSounds","Promise","all","map","soundFile","loadSound","then","setState","fetch","res","arrayBuffer","decodeAudioData","buffer","addSoundToSoundBank","createMixerInput","sound","_ref","asyncToGenerator","regenerator_default","mark","_callee","soundId","input","wrap","_context","prev","next","createInput","sent","stop","_x","playSound","mixerInput","source","createBufferSource","connect","start","sounds","children","DrumMachineActionsContext","DrumMachineActionsProvider","DrumMachineActionsConsumer","withDrumMachineActions","WithDrumMachineActionsComponent","drumMachineActions","DrumMachineStateContext","DrumMachineStateProvider","DrumMachineStateConsumer","withDrumMachineState","_Component2","WithDrumMachineStateComponent","_this2","drumMachineState","objectValues","object","keys","SEQUENCE_LENGTH","deriveTracksFromSoundBank","reduce","tracks","sequence","Array","fill","playing","bpm","noteIndex","setSequenceNote","updatedSequence","toConsumableArray","objectSpread","defineProperty","play","playNoteAt","setBpm","tracksAsArray","forEach","track","setTimeout","beatsPerMillisecond","className","DrumMachine_Header","DrumMachine_Tracks","Controls","Header","StatusIndicator","classes","cx","StatusIndicator--active","drop-shadow","inner-shadow","onClick","renderPlayButton","renderStopButton","DrumMachine_BpmSelector","onChange","BpmSelector","e","_this3","target","type","min","max","Tracks","Track","onSequenceKeyClick","_this4","soundName","DrumMachine_TrackSequence","onClickKey","TrackSequence","_this5","note","index","SequenceKey","newNoteValue","_this6","on","bg-color-white","active","bg-color-light-gray","SynthesizerActionsContext","SynthesizerActionsProvider","SynthesizerActionsConsumer","withSynthesizerActions","WithSynthesizerActionsComponent","synthesizerActions","SynthesizerStateContext","SynthesizerStateProvider","SynthesizerStateConsumer","A","ASHARP","B","C","C2","CSHARP","D","DSHARP","E","F","FSHARP","G","GSHARP","DEFAULT_OCTIVE_INDEX","SINE","KeyCodeMapping","_KeyCodeMapping","Frequencies","Octaves","frequency","sharp","components_Synthesizer","octaveIndex","waveform","setOctaveIndex","disconnectAllOctave","setWaveform","oscillator","connectOscillator","triggerKeyCode","isPressed","disconnectOscillator","disconnect","onKeyDown","enabledKeys","includes","keyCode","onKeyUp","setEnabledKeys","setOctaveKeys","bindKeyboardEvents","prevProps","prevState","octave","keysPromise","updatedKeys","createOscillator","setValueAtTime","currentTime","abrupt","_x2","_x3","resolve","document","addEventListener","pressKey","releaseKey","Synthesizer_Header","Synthesizer_Keyboard","Synthesizer_Controls","sort","b","ControlsRaw","Synthesizer_WaveformSelector","synthesizerState","Synthesizer_OctaveSelector","WithSynthesizerStateComponent","OctaveSelector","length","WaveformSelector","Keyboard","isLastKey","Key","keyObj","leftPosition","onMouseDown","onMouseUp","onMouseOut","style","left","mr_5","Key--sharp","Key--regular","GAIN_INITIAL_VALUE","inputs","inputId","gainNode","createGain","destination","gain","constantNode","gainNodes","concat","createConstantSource","updateInputGain","offset","Mixer_Header","Mixer_Controls","inputsAsArray","Mixer_Slider","updateValue","Slider","handleChange","step","width","Context","AudioContext","window","webkitAudioContext","components_Mixer","components_SoundBank","components_DrumMachine","App","components_Context","ReactDOM","render","Main","getElementById"],"mappings":"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","file":"static/js/main.49b8baee.chunk.js","sourcesContent":["import React, { Component, createContext } from 'react';\n\nexport const SynthesizerActionsContext = createContext({});\nexport const SynthesizerActionsProvider = SynthesizerActionsContext.Provider;\nexport const SynthesizerActionsConsumer = SynthesizerActionsContext.Consumer;\nexport const withSynthesizerActions = WrappedComponent => {\n  return class WithSynthesizerActionsComponent extends Component {\n    render() {\n      return (\n        <SynthesizerActionsConsumer>\n          {synthesizerActions => <WrappedComponent {...this.props} synthesizerActions={synthesizerActions} />}\n        </SynthesizerActionsConsumer>\n      );\n    }\n  };\n};\n\nexport const SynthesizerStateContext = createContext({});\nexport const SynthesizerStateProvider = SynthesizerStateContext.Provider;\nexport const SynthesizerStateConsumer = SynthesizerStateContext.Consumer;\nexport const withSynthesizerState = WrappedComponent => {\n  return class WithSynthesizerStateComponent extends Component {\n    render() {\n      return (\n        <SynthesizerStateConsumer>\n          {synthesizerState => <WrappedComponent {...this.props} synthesizerState={synthesizerState} />}\n        </SynthesizerStateConsumer>\n      );\n    }\n  };\n};\n","import React, { Component, createContext } from 'react';\n\nexport const AudioContextContext = createContext({});\nexport const AudioContextConsumer = AudioContextContext.Consumer;\nexport const AudioContextProvider = AudioContextContext.Provider;\nexport const withAudioContext = WrappedComponent => {\n  class WithAudioContextComponent extends Component {\n    render() {\n      return (\n        <AudioContextConsumer>\n          {audioContext => <WrappedComponent {...this.props} audioContext={audioContext} />}\n        </AudioContextConsumer>\n      );\n    }\n  }\n\n  return WithAudioContextComponent;\n};\n","import React, { Component, createContext } from 'react';\n\nexport const MixerContext = createContext({});\nexport const MixerProvider = MixerContext.Provider;\nexport const MixerConsumer = MixerContext.Consumer;\nexport const withMixer = WrappedComponent => {\n  return class WithMixerContextComponent extends Component {\n    render() {\n      return (\n        <MixerConsumer>\n          {mixer => <WrappedComponent {...this.props} mixer={mixer} />}\n        </MixerConsumer>\n      );\n    }\n  };\n};\n","import React, { Component, createContext } from 'react';\n\nexport const SoundBankContext = createContext({});\nexport const SoundBankProvider = SoundBankContext.Provider;\nexport const SoundBankConsumer = SoundBankContext.Consumer;\nexport const withSoundBank = WrappedComponent => {\n  return class WithSoundBankComponent extends Component {\n    render() {\n      return (\n        <SoundBankConsumer>{soundBank => <WrappedComponent {...this.props} soundBank={soundBank} />}</SoundBankConsumer>\n      );\n    }\n  };\n};\n","/* @flow */\nimport React, { Component } from 'react';\nimport { withMixer } from 'components/Mixer/MixerContext';\nimport { withAudioContext } from 'components/Context/AudioContextContext';\nimport { SoundBankProvider } from 'components/SoundBank/SoundBankContext';\n\nconst MIXER_INPUT_ID = 'Drum Machine';\n\ntype Props = {};\ntype State = {\n  soundsLoaded: boolean\n};\n\nclass SoundBank extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.loadSounds(this.soundFiles);\n  }\n\n  state = { soundsLoaded: false };\n  soundFiles: Array<SoundFile> = [\n    {\n      id: 'hat',\n      name: 'Hi—Hat',\n      path: 'sounds/hat.wav'\n    },\n    {\n      id: 'kick',\n      name: 'Kick',\n      path: 'sounds/kick.wav'\n    },\n    {\n      id: 'snare',\n      name: 'Snare',\n      path: 'sounds/snare.wav'\n    }\n  ];\n  mixerInputs = {};\n  soundBank: SoundBank = {};\n\n  loadSounds = (soundFiles: Array<SoundFile>) => {\n    return Promise.all(soundFiles.map(soundFile => this.loadSound(soundFile))).then(() =>\n      this.setState({ soundsLoaded: true })\n    );\n  };\n\n  loadSound = (soundFile: SoundFile) => {\n    return fetch(soundFile.path)\n      .then(res => res.arrayBuffer())\n      .then(arrayBuffer => this.props.audioContext.decodeAudioData(arrayBuffer))\n      .then(buffer => {\n        this.addSoundToSoundBank({ id: soundFile.id, name: soundFile.name, buffer: buffer });\n        this.createMixerInput(soundFile.id);\n      });\n  };\n\n  addSoundToSoundBank = (sound: Sound) => {\n    this.soundBank[sound.id] = { id: sound.id, name: sound.name, buffer: sound.buffer };\n  };\n\n  createMixerInput = async (soundId: string) => {\n    const input = await this.props.mixer.createInput(MIXER_INPUT_ID);\n    this.mixerInputs[soundId] = input;\n  };\n\n  playSound = (soundId: string) => {\n    const buffer = this.soundBank[soundId].buffer;\n    const mixerInput = this.mixerInputs[soundId];\n    const source = this.props.audioContext.createBufferSource();\n    source.buffer = buffer;\n    source.connect(mixerInput);\n    source.start(0);\n  };\n\n  render() {\n    if (!this.state.soundsLoaded) return null;\n    return (\n      <SoundBankProvider\n        value={{\n          sounds: this.soundBank,\n          playSound: this.playSound\n        }}>\n        {this.props.children}\n      </SoundBankProvider>\n    );\n  }\n}\n\nexport default withMixer(withAudioContext(SoundBank));\n","import React, { Component, createContext } from 'react';\n\nexport const DrumMachineActionsContext = createContext({});\nexport const DrumMachineActionsProvider = DrumMachineActionsContext.Provider;\nexport const DrumMachineActionsConsumer = DrumMachineActionsContext.Consumer;\nexport const withDrumMachineActions = WrappedComponent => {\n  return class WithDrumMachineActionsComponent extends Component {\n    render() {\n      return (\n        <DrumMachineActionsConsumer>\n          {drumMachineActions => <WrappedComponent {...this.props} drumMachineActions={drumMachineActions} />}\n        </DrumMachineActionsConsumer>\n      );\n    }\n  };\n};\n\nexport const DrumMachineStateContext = createContext({});\nexport const DrumMachineStateProvider = DrumMachineStateContext.Provider;\nexport const DrumMachineStateConsumer = DrumMachineStateContext.Consumer;\nexport const withDrumMachineState = WrappedComponent => {\n  return class WithDrumMachineStateComponent extends Component {\n    render() {\n      return (\n        <DrumMachineStateConsumer>\n          {drumMachineState => <WrappedComponent {...this.props} drumMachineState={drumMachineState} />}\n        </DrumMachineStateConsumer>\n      );\n    }\n  };\n};\n","/* @flow */\nexport default (object: Object): Array<any> => Object.keys(object).map(key => object[key])\n","/* @flow */\nimport React, { Component } from 'react';\nimport { withSoundBank } from 'components/SoundBank/SoundBankContext';\nimport {\n  DrumMachineActionsProvider,\n  DrumMachineStateProvider,\n  withDrumMachineActions,\n  withDrumMachineState\n} from 'components/DrumMachine/DrumMachineContext';\nimport objectValues from 'utils/objectValues';\nimport cx from 'classnames';\n\n\ntype Props = {\n  audioContext: Object,\n  soundBank: SoundBank\n};\n\ntype State = {\n  playing: boolean,\n  bpm: number,\n  tracks: RhythmTracks\n};\n\n\nclass DrumMachine extends Component<Props, State> {\n  SEQUENCE_LENGTH = 16;\n\n  deriveTracksFromSoundBank = (): RhythmTracks => {\n    const soundBank: SoundBank = this.props.soundBank.sounds;\n    return objectValues(soundBank).reduce((tracks: RhythmTracks, sound: Sound) => {\n      tracks[sound.id] = {\n        soundId: sound.id,\n        sequence: new Array(this.SEQUENCE_LENGTH).fill(0)\n      };\n      return tracks;\n    }, {});\n  };\n\n  state = {\n    playing: false,\n    bpm: 120,\n    tracks: this.deriveTracksFromSoundBank(),\n    noteIndex: 0\n  };\n\n  get tracksAsArray(): Array<RhythmTrack> {\n    return objectValues(this.state.tracks);\n  }\n\n  setSequenceNote = (soundId: string, noteIndex: number, value: number) => {\n    const updatedSequence: Sequence = [...this.state.tracks[soundId].sequence];\n    updatedSequence[noteIndex] = value;\n\n    return this.setState({\n      tracks: {\n        ...this.state.tracks,\n        [soundId]: {\n          ...this.state.tracks[soundId],\n          sequence: updatedSequence\n        }\n      }\n    });\n  };\n\n  get beatsPerMillisecond() {\n    return 60000 / this.state.bpm;\n  }\n\n  play = () => {\n    if (this.state.playing) return;\n    this.setState(\n      {\n        playing: true\n      },\n      () => this.playNoteAt(0)\n    );\n  };\n\n  stop = () => {\n    if (!this.state.playing) return;\n    this.setState({\n      playing: false\n    });\n  };\n\n  playNoteAt(noteIndex) {\n    if (!this.state.playing) return;\n\n    this.tracksAsArray.forEach(track => {\n      if (track.sequence[noteIndex]) {\n        this.props.soundBank.playSound(track.soundId);\n      }\n    });\n\n    this.setState({ noteIndex });\n\n    return setTimeout(() => {\n      return noteIndex === this.SEQUENCE_LENGTH - 1 ? this.playNoteAt(0) : this.playNoteAt(noteIndex + 1);\n    }, this.beatsPerMillisecond);\n  }\n\n  setBpm = bpm => {\n    return this.setState({ bpm });\n  };\n\n  render() {\n    return (\n      <div className='border-gray p1_5 inline-block'>\n        <DrumMachineStateProvider\n          value={{\n            playing: this.state.playing,\n            bpm: this.state.bpm,\n            noteIndex: this.state.noteIndex,\n          }}>\n          <DrumMachineActionsProvider\n            value={{\n              setSequenceNote: this.setSequenceNote,\n              play: this.play,\n              stop: this.stop,\n              setBpm: this.setBpm\n            }}>\n            <Header />\n            <Tracks tracks={this.tracksAsArray} />\n            <Controls />\n          </DrumMachineActionsProvider>\n        </DrumMachineStateProvider>\n      </div>\n    );\n  }\n}\n\nexport default withSoundBank(DrumMachine);\n\n\ntype HeaderProps = {};\n\nclass Header extends Component<HeaderProps> {\n  render() {\n    return (\n      <div className='flex justify-between mb2'>\n        <span className='uppercase'>Drum Machine</span>\n        <StatusIndicator />\n      </div>\n    );\n  }\n}\n\n\n\n\ntype StatusIndicatorProps = {};\n\nclass StatusIndicatorRaw extends Component<StatusIndicatorProps> {\n  render() {\n    const classes = cx('StatusIndicator', {\n      'StatusIndicator--active': this.props.drumMachineState.playing\n    });\n\n    // const animationDuration = `${1 / (this.props.drumMachineState.bpm / 60)}s`;\n\n    return (\n      <div className='StatusIndicator__Container'>\n        <div className={classes}>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst StatusIndicator = withDrumMachineState(StatusIndicatorRaw);\n\n\ntype ControlsProps = {};\n\nclass ControlsRaw extends Component<ControlsProps> {\n\n  renderPlayButton() {\n    const classes = cx('Button h100 mr_5', {\n     'drop-shadow': !this.props.drumMachineState.playing,\n     'inner-shadow': this.props.drumMachineState.playing\n    });\n    return (\n      <button className={classes} onClick={this.props.drumMachineActions.play}>play</button>\n    );\n  }\n\n  renderStopButton() {\n    const classes = cx('Button h100', {\n     'drop-shadow': this.props.drumMachineState.playing,\n     'inner-shadow': !this.props.drumMachineState.playing\n    });\n    return (\n      <button className={classes} onClick={this.props.drumMachineActions.stop}>stop</button>\n    );\n  }\n\n  render() {\n    return (\n      <div className='Controls flex justify-between mt2'>\n        <div className='mr2'>\n          {this.renderPlayButton()}\n          {this.renderStopButton()}\n        </div>\n        <div>\n          <BpmSelector onChange={this.props.drumMachineActions.setBpm} value={this.props.drumMachineState.bpm} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst Controls = withDrumMachineState(withDrumMachineActions(ControlsRaw));\n\n\n\n\ntype BpmSelectorProps = {};\n\nclass BpmSelector extends Component<BpmSelectorProps> {\n  onChange = e => this.props.onChange(e.target.value);\n\n  render() {\n    return (\n      <div className='h100 relative'>\n        <input className='Input h100 inner-shadow' onChange={this.onChange} value={this.props.value} type='number' min='1' max='999' />\n        <span className='detail color-gray overlay events-none flex justify-end items-center pr2'>\n          BPM\n        </span>\n      </div>\n    )\n  }\n}\n\n\n\n\ntype TracksProps = {\n  tracks: Array<RhythmTrack>\n};\n\nclass Tracks extends Component<TracksProps> {\n  render() {\n    return this.props.tracks.map(track => (\n      <Track track={track} key={track.soundId} />\n    ));\n  }\n}\n\n\n\ntype TrackProps = {\n  track: RhythmTrack,\n  soundBank: SoundBank,\n  drumMachineActions: {\n    setSequenceNote: Function\n  }\n};\n\nclass TrackRaw extends Component<TrackProps> {\n  get soundName() {\n    return this.props.soundBank.sounds[this.props.track.soundId].name;\n  }\n\n  onSequenceKeyClick = () => (noteIndex: number, value: number) => {\n    return this.props.drumMachineActions.setSequenceNote(this.props.track.soundId, noteIndex, value);\n  };\n\n  render() {\n    return (\n      <div className='mb1_5 text-left'>\n        <div className='mb_5'>{this.soundName}</div>\n        <TrackSequence sequence={this.props.track.sequence} onClickKey={this.onSequenceKeyClick()} />\n      </div>\n    );\n  }\n}\n\nconst Track = withSoundBank(withDrumMachineActions(TrackRaw))\n\n\n\n\n\ntype TrackSequenceProps = {\n  sequence: Sequence,\n  onClickKey: Function\n};\n\nclass TrackSequence extends Component<TrackSequenceProps> {\n  render() {\n    return (\n      <div className=\"flex\">\n        {this.props.sequence.map((note, index) => (\n          <SequenceKey note={note} index={index} key={index} onClick={this.props.onClickKey} />\n        ))}\n      </div>\n    );\n  }\n}\n\n\n\n\ntype SequenceKeyProps = {\n  note: number,\n  onClick: Function\n};\n\nclass SequenceKeyRaw extends Component<SequenceKeyProps> {\n  onClick = () => {\n    const newNoteValue = this.props.note === 0 ? 1 : 0;\n    return this.props.onClick(this.props.index, newNoteValue);\n  }\n\n  get on() {\n    return this.props.note === 1 ? true : false;\n  }\n\n  get active() {\n    if (!this.props.drumMachineState.playing) return false;\n    return this.props.drumMachineState.noteIndex === this.props.index;\n  }\n\n  get classes() {\n    return cx('Key mr_375 border-radius', {\n      'drop-shadow': !this.on,\n      'inner-shadow': this.on,\n      'bg-color-white': !this.active,\n      'bg-color-light-gray': this.active\n    });\n  }\n\n  render() {\n    return (\n      <div\n        className={this.classes}\n        onClick={this.onClick}\n      >\n      </div>\n    )\n  }\n}\n\nconst SequenceKey = withDrumMachineState(SequenceKeyRaw);\n","const A = 'A';\nconst ASHARP = 'ASHARP';\nconst B = 'B';\nconst C = 'C';\nconst C2 = 'C2';\nconst CSHARP = 'CSHARP';\nconst D = 'D';\nconst DSHARP = 'DSHARP';\nconst E = 'E';\nconst F = 'F';\nconst FSHARP = 'FHSARP';\nconst G = 'G';\nconst GSHARP = 'GSHARP';\n\nexport const DEFAULT_OCTIVE_INDEX = 3;\n\nexport const SINE = 'sine';\nexport const SQUARE = 'square';\nexport const SAWTOOTH = 'sawtooth';\nexport const TRIANGLE = 'triangle';\n\nexport const KeyCodeMapping = {\n  [C]: 65,\n  [CSHARP]: 87,\n  [D]: 83,\n  [DSHARP]: 69,\n  [E]: 68,\n  [F]: 70,\n  [FSHARP]: 84,\n  [G]: 71,\n  [GSHARP]: 89,\n  [A]: 72,\n  [ASHARP]: 85,\n  [B]: 74,\n  [C2]: 75\n};\n\nexport const Frequencies = {\n  C1: 32.7032,\n  CSHARP1: 34.64783,\n  D1: 36.7081,\n  DSHARP1: 38.89087,\n  E1: 41.20344,\n  F1: 43.65353,\n  FSHARP1: 46.2493,\n  G1: 48.99943,\n  GSHARP1: 51.91309,\n  A1: 55,\n  ASHARP1: 58.27047,\n  B1: 61.73541,\n  C2: 65.40639,\n  CSHARP2: 69.29566,\n  D2: 73.41619,\n  DSHARP2: 77.78175,\n  E2: 82.40689,\n  F2: 87.30706,\n  FSHARP2: 92.49861,\n  G2: 97.99886,\n  GSHARP2: 103.8262,\n  A2: 110,\n  ASHARP2: 116.5409,\n  B2: 123.4708,\n  C3: 130.8128,\n  CSHARP3: 138.5913,\n  D3: 146.8324,\n  DSHARP3: 155.5635,\n  E3: 164.8138,\n  F3: 174.6141,\n  FSHARP3: 184.9972,\n  G3: 195.9977,\n  GSHARP3: 207.6523,\n  A3: 220,\n  ASHARP3: 233.0819,\n  B3: 246.9417,\n  C4: 261.6256,\n  CSHARP4: 277.1826,\n  D4: 293.6648,\n  DSHARP4: 311.127,\n  E4: 329.6276,\n  F4: 349.2282,\n  FSHARP4: 369.9944,\n  G4: 391.9954,\n  GSHARP4: 415.3047,\n  A4: 440,\n  ASHARP4: 466.1638,\n  B4: 493.8833,\n  C5: 523.2511,\n  CSHARP5: 554.3653,\n  D5: 587.3295,\n  DSHARP5: 622.254,\n  E5: 659.2551,\n  F5: 698.4565,\n  FSHARP5: 739.9888,\n  G5: 783.9909,\n  GSHARP5: 830.6094,\n  A5: 880,\n  ASHARP5: 932.3275,\n  B5: 987.7666,\n  C6: 1046.502,\n  CSHARP6: 1108.731,\n  D6: 1174.659,\n  DSHARP6: 1244.508,\n  E6: 1318.51,\n  F6: 1396.913,\n  FSHARP6: 1479.978,\n  G6: 1567.982,\n  GSHARP6: 1661.219,\n  A6: 1760,\n  ASHARP6: 1864.655,\n  B6: 1975.533,\n  C7: 2093.005,\n  CSHARP7: 2217.461,\n  D7: 2349.318,\n  DSHARP7: 2489.016,\n  E7: 2637.02,\n  F7: 2793.826,\n  FSHARP7: 2959.955,\n  G7: 3135.963,\n  GSHARP7: 3322.438,\n  A7: 3520,\n  ASHARP7: 3729.31,\n  B7: 3951.066,\n  C8: 4186.009,\n  CSHARP8: 4434.922,\n  D8: 4698.636,\n  DSHARP8: 4978.032,\n  E8: 5274.041,\n  F8: 5587.652,\n  FSHARP8: 5919.911,\n  G8: 6271.927,\n  GSHARP8: 6644.875,\n  A8: 7040,\n  ASHARP8: 7458.62,\n  B8: 7902.133,\n  C9: 8372.019\n};\n\nexport const Octaves = [\n  [\n    {\n      note: C,\n      frequency: Frequencies.C1,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP1,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D1,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP1,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E1,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F1,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP1,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G1,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP1,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A1,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP1,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B1,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C2,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C2,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP2,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D2,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP2,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E2,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F2,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP2,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G2,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP2,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A2,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP2,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B2,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C3,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C3,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP3,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D3,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP3,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E3,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F3,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP3,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G3,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP3,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A3,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP3,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B3,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C4,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C4,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP4,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D4,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP4,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E4,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F4,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP4,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G4,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP4,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A4,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP4,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B4,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C5,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C5,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP5,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D5,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP5,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E5,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F5,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP5,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G5,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP5,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A5,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP5,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B5,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C6,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C6,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP6,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D6,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP6,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E6,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F6,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP6,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G6,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP6,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A6,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP6,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B6,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C7,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C7,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP7,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D7,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP7,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E7,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F7,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP7,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G7,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP7,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A7,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP7,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B7,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C8,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C8,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP8,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D8,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP8,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E8,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F8,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP8,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G8,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP8,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A8,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP8,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B8,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C9,\n      sharp: false\n    }\n  ]\n];\n","/* @flow */\nimport React, { Component } from 'react';\nimport { withAudioContext } from 'components/Context/AudioContextContext';\nimport { withMixer } from 'components/Mixer/MixerContext';\nimport {\n  SynthesizerActionsProvider,\n  SynthesizerStateProvider,\n  withSynthesizerActions,\n  withSynthesizerState\n} from 'components/Synthesizer/SynthesizerContext';\nimport cx from 'classnames';\nimport objectValues from 'utils/objectValues';\nimport {\n  Octaves,\n  KeyCodeMapping,\n  DEFAULT_OCTIVE_INDEX,\n  SINE,\n  SQUARE,\n  SAWTOOTH,\n  TRIANGLE\n} from 'components/Synthesizer/Keyboard';\n\nconst MIXER_INPUT_ID = 'Synthesizer';\n\nclass Synthesizer extends Component<SynthesizerProps> {\n  state = {\n    octaveIndex: DEFAULT_OCTIVE_INDEX,\n    waveform: SINE,\n    keys: {}\n  };\n\n  componentDidMount() {\n    this.setEnabledKeys();\n    this.setOctaveKeys();\n    this.bindKeyboardEvents();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.octaveIndex !== this.state.octaveIndex) {\n      return this.setOctaveKeys();\n    }\n  }\n\n  setEnabledKeys() {\n    this.enabledKeys = objectValues(KeyCodeMapping);\n  }\n\n  get octave() {\n    return Octaves[this.state.octaveIndex];\n  }\n\n  setOctaveIndex = octaveIndex => {\n    this.disconnectAllOctave();\n    return this.setState({ octaveIndex });\n  }\n\n  setWaveform = waveform => {\n    objectValues(this.state.keys).forEach(key => { key.oscillator.type = waveform });\n    return this.setState({ waveform });\n  }\n\n  async setOctaveKeys() {\n    // We create an async reduce here given that this.props.mixer.createInput returns a Promise.\n    const keys = await this.octave.reduce(async (keysPromise, key, index) => {\n\n      const updatedKeys = await keysPromise; // Awaits and unpacks the previous promise.\n\n      const oscillator = this.props.audioContext.createOscillator();\n      oscillator.type = this.state.waveform;\n      oscillator.frequency.setValueAtTime(key.frequency, this.props.audioContext.currentTime);\n      oscillator.start();\n\n      const triggerKeyCode = KeyCodeMapping[key.note];\n      const mixerInput = await this.props.mixer.createInput(MIXER_INPUT_ID); // Returns a promise and must be awaited.\n\n      updatedKeys[triggerKeyCode] = {\n        index,\n        triggerKeyCode,\n        oscillator,\n        mixerInput,\n        isPressed: false,\n        sharp: key.sharp,\n        frequency: key.frequency,\n      };\n\n      return updatedKeys;\n    }, Promise.resolve({}));\n\n    return this.setState({ keys });\n  }\n\n  bindKeyboardEvents(e) {\n    document.addEventListener('keydown', this.onKeyDown);\n    document.addEventListener('keyup', this.onKeyUp);\n  }\n\n  disconnectAllOctave() {\n    objectValues(this.state.keys).forEach(key => key.oscillator.disconnect());\n  }\n\n  connectOscillator = triggerKeyCode => {\n    this.setState(\n      {\n        keys: {\n          ...this.state.keys,\n          [triggerKeyCode]: {\n            ...this.state.keys[triggerKeyCode],\n            isPressed: true\n          }\n        }\n      },\n      () => {\n        this.state.keys[triggerKeyCode].oscillator.connect(this.state.keys[triggerKeyCode].mixerInput);\n      }\n    );\n  };\n\n  disconnectOscillator = triggerKeyCode => {\n    this.setState(\n      {\n        keys: {\n          ...this.state.keys,\n          [triggerKeyCode]: {\n            ...this.state.keys[triggerKeyCode],\n            isPressed: false\n          }\n        }\n      },\n      () => {\n        this.state.keys[triggerKeyCode].oscillator.disconnect();\n      }\n    );\n  };\n\n  onKeyDown = e => {\n    if (!this.enabledKeys.includes(e.keyCode)) return;\n    return this.connectOscillator(e.keyCode);\n  };\n\n  onKeyUp = e => {\n    if (!this.enabledKeys.includes(e.keyCode)) return;\n    return this.disconnectOscillator(e.keyCode);\n  };\n\n  get keys() {\n    return objectValues(this.state.keys).sort((a, b) => { return a.index - b.index });\n  }\n\n  render() {\n    return (\n      <SynthesizerStateProvider value={{ octaveIndex: this.state.octaveIndex, waveform: this.state.waveform }}>\n        <SynthesizerActionsProvider value={{\n          pressKey: this.connectOscillator,\n          releaseKey: this.disconnectOscillator,\n          setOctaveIndex: this.setOctaveIndex,\n          setWaveform: this.setWaveform\n        }}>\n          <div className=\"border-gray p1_5 inline-block\">\n            <Header />\n            <Keyboard keys={this.keys} />\n            <Controls />\n          </div>\n        </SynthesizerActionsProvider>\n      </SynthesizerStateProvider>\n    );\n  }\n}\n\nexport default withMixer(withAudioContext(Synthesizer));\n\ntype HeaderProps = {};\n\nclass Header extends Component<HeaderProps> {\n  render() {\n    return (\n      <div className=\"flex justify-between mb2\">\n        <span className=\"uppercase\">Synthesizer</span>\n      </div>\n    );\n  }\n}\n\n\ntype ControlsProps = {};\n\nclass ControlsRaw extends Component<ControlsProps> {\n\n  render() {\n    return (\n      <div className='Controls flex justify-between mt2'>\n        <div className='mr1_5'>\n          <WaveformSelector onChange={this.props.synthesizerActions.setWaveform} value={this.props.synthesizerState.waveform} />\n        </div>\n        <div>\n          <OctaveSelector onChange={this.props.synthesizerActions.setOctaveIndex} value={this.props.synthesizerState.octaveIndex} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport const Controls = withSynthesizerState(withSynthesizerActions(ControlsRaw));\n\n\ntype OctaveSelectorProps = {};\n\nclass OctaveSelector extends Component<OctaveSelectorProps> {\n  onChange = e => this.props.onChange(e.target.value);\n\n  render() {\n    return (\n      <div className='h100 relative'>\n        <input\n          className='Input Input--small h100 inner-shadow'\n          onChange={this.onChange}\n          value={this.props.value}\n          type=\"number\"\n          max={Octaves.length - 1}\n          min={0}\n        />\n        <span className='detail color-gray overlay events-none flex justify-end items-center pr2'>\n          OCTAVE\n        </span>\n      </div>\n    )\n  }\n}\n\n\n\ntype WaveformSelectorProps = {};\n\nclass WaveformSelector extends Component<WaveformSelectorProps> {\n  onChange = e => this.props.onChange(e.target.value);\n\n  render() {\n    return (\n      <div className='h100 relative'>\n        <span className='detail color-gray overlay events-none flex justify-end items-center pr1'>\n          WAVEFORM\n        </span>\n\n        <select className='Select h100 inner-shadow' onChange={this.onChange} value={this.props.value}>\n          <option value={SINE}>SINE</option>\n          <option value={SQUARE}>SQUARE</option>\n          <option value={SAWTOOTH}>SAWTOOTH</option>\n          <option value={TRIANGLE}>TRIANGLE</option>\n        </select>\n      </div>\n    )\n  }\n}\n\n\ntype KeyboardProps = {};\n\nclass Keyboard extends Component<KeyboardProps> {\n  render() {\n    return (\n      <div className='Keyboard text-center'>\n        <div className='inline-flex relative'>\n          {this.props.keys.map((key, index) => {\n            const isLastKey = index === this.props.keys.length - 1;\n            return <Key keyObj={key} isLastKey={isLastKey} key={key.triggerKeyCode} />;\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\ntype KeyProps = {};\n\nclass KeyRaw extends Component<KeyProps> {\n  get classes() {\n    return cx('Key Key--large bg-color-white border-radius', {\n      mr_5: !this.props.isLastKey,\n      'drop-shadow': !this.props.keyObj.isPressed,\n      'inner-shadow': this.props.keyObj.isPressed,\n      'Key--sharp': this.props.keyObj.sharp,\n      'Key--regular': !this.props.keyObj.sharp\n    });\n  }\n\n  pressKey = () => {\n    this.props.synthesizerActions.pressKey(this.props.keyObj.triggerKeyCode);\n  };\n\n  releaseKey = () => {\n    this.props.synthesizerActions.releaseKey(this.props.keyObj.triggerKeyCode);\n  };\n\n  render() {\n\n    let leftPosition = 'auto';\n    if (this.props.keyObj.sharp) {\n      if (this.props.keyObj.index > 4) {\n        leftPosition = (this.props.keyObj.index * 24) + 24;\n      } else {\n        leftPosition = this.props.keyObj.index * 24;\n      }\n    }\n\n    return (\n      <div\n        className={this.classes}\n        onMouseDown={this.pressKey}\n        onMouseUp={this.releaseKey}\n        onMouseOut={this.releaseKey}\n        style={{ left: leftPosition }}\n      />\n    );\n  }\n}\n\nconst Key = withSynthesizerActions(KeyRaw);\n","/* @flow */\nimport React, { Component } from 'react';\nimport cx from 'classnames';\nimport objectValues from 'utils/objectValues';\nimport { MixerProvider, withMixer } from 'components/Mixer/MixerContext';\nimport { withAudioContext } from 'components/Context/AudioContextContext';\n\ntype MixerProps = {};\n\ntype MixerState = {};\n\nconst GAIN_INITIAL_VALUE = 1;\n\nclass Mixer extends Component<MixerProps, MixerState> {\n  state = {\n    inputs: {}\n  };\n\n  createInput = inputId => {\n    // This is made async so that you can map multiple sources to one input in a loop. Otherwise we can't trust\n    // trust the resuls of setState given that it is async.\n    return new Promise(resolve => {\n      const gainNode = this.props.audioContext.createGain();\n      gainNode.connect(this.props.audioContext.destination);\n      const inputExists = !!this.state.inputs[inputId];\n\n      if (inputExists) {\n        gainNode.gain.value = this.state.inputs[inputId].gain;\n        const constantNode = this.state.inputs[inputId].constantNode;\n        constantNode.connect(gainNode.gain);\n\n        return this.setState(\n          {\n            inputs: {\n              ...this.state.inputs,\n              [inputId]: {\n                ...this.state.inputs[inputId],\n                gainNodes: [...this.state.inputs[inputId].gainNodes, gainNode]\n              }\n            }\n          },\n          () => resolve(gainNode)\n        );\n      } else {\n        gainNode.gain.value = GAIN_INITIAL_VALUE;\n        const constantNode = this.props.audioContext.createConstantSource();\n        constantNode.connect(gainNode.gain);\n        constantNode.start();\n\n        return this.setState(\n          {\n            inputs: {\n              ...this.state.inputs,\n              [inputId]: {\n                id: inputId,\n                gain: gainNode.gain.value,\n                constantNode,\n                gainNodes: [gainNode]\n              }\n            }\n          },\n          () => resolve(gainNode)\n        );\n      }\n    });\n  };\n\n  updateInputGain = (inputId, gain) => {\n    this.state.inputs[inputId].constantNode.offset.value = gain - GAIN_INITIAL_VALUE;\n\n    return this.setState({\n      inputs: {\n        ...this.state.inputs,\n        [inputId]: {\n          ...this.state.inputs[inputId],\n          gain\n        }\n      }\n    });\n  };\n\n  render() {\n    return (\n      <MixerProvider\n        value={{\n          inputs: this.state.inputs,\n          createInput: this.createInput,\n          updateInputGain: this.updateInputGain\n        }}>\n        <div className=\"border-gray p1_5 inline-block text-left\">\n          <Header />\n          <Controls />\n        </div>\n        {this.props.children}\n      </MixerProvider>\n    );\n  }\n}\n\nexport default withAudioContext(Mixer);\n\ntype HeaderProps = {};\n\nclass Header extends Component<HeaderProps> {\n  render() {\n    return (\n      <div className=\"flex justify-between mb2\">\n        <span className=\"uppercase\">Mixer</span>\n      </div>\n    );\n  }\n}\n\ntype ControlsProps = {};\n\nclass ControlsRaw extends Component<ControlsProps> {\n  get inputsAsArray() {\n    return objectValues(this.props.mixer.inputs);\n  }\n\n  render() {\n    return (\n      <div className=\"mt2\">\n        {this.inputsAsArray.map(input => (\n          <div key={input.id}>\n            <p>{input.id}</p>\n            <Slider value={input.gain} updateValue={gain => this.props.mixer.updateInputGain(input.id, gain)} />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport const Controls = withMixer(ControlsRaw);\n\ntype SliderProps = {};\n\nclass Slider extends Component<SliderProps> {\n  handleChange = e => {\n    this.props.updateValue(e.target.value);\n  };\n\n  render() {\n    return (\n      <div className=\"w100\">\n        <input\n          className=\"Slider\"\n          type=\"range\"\n          min=\"0.0\"\n          max=\"1.0\"\n          step=\"0.01\"\n          value={this.props.value}\n          onChange={this.handleChange}\n          style={{ width: 500 }}\n        />\n      </div>\n    );\n  }\n}\n","/* @flow */\nimport React, { Component } from 'react';\nimport { AudioContextProvider } from 'components/Context/AudioContextContext';\nimport SoundBank from 'components/SoundBank';\nimport DrumMachine from 'components/DrumMachine';\nimport Synthesizer from 'components/Synthesizer';\nimport Mixer from 'components/Mixer';\n\ntype Props = {};\ntype State = {\n  soundsLoaded: boolean\n};\n\nclass Context extends Component<Props, State> {\n  audioContext: AudioContext = new (AudioContext || window.webkitAudioContext)();\n\n  render() {\n    return (\n      <AudioContextProvider value={this.audioContext}>\n        <div className='text-center mt4'>\n          <Mixer>\n            <div className='flex justify-center mt2'>\n              <div className='mr2'>\n                <Synthesizer />\n              </div>\n              <div>\n                <SoundBank>\n                  <DrumMachine />\n                </SoundBank>\n              </div>\n            </div>\n          </Mixer>\n        </div>\n      </AudioContextProvider>\n    );\n  }\n}\n\nexport default Context;\n","import React, { Component } from 'react';\nimport Context from 'components/Context';\n\nclass App extends Component {\n  render() {\n    return (\n      <main>\n        <Context />\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Main from 'Main';\nimport 'styles/index.scss';\n\nReactDOM.render(<Main />, document.getElementById('root'));\n"],"sourceRoot":""}