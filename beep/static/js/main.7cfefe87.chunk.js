(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r,a,s=n(0),c=n.n(s),o=n(10),u=n.n(o),i=n(1),p=n(2),l=n(4),h=n(3),y=n(5),f=Object(s.createContext)({}),d=f.Consumer,m=f.Provider,b=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(y.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement(d,null,function(n){return c.a.createElement(e,Object.assign({},t.props,{audioContext:n}))})}}]),n}(s.Component)},O=Object(s.createContext)({}),v=O.Provider,j=O.Consumer,k=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(y.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement(j,null,function(n){return c.a.createElement(e,Object.assign({},t.props,{soundBank:n}))})}}]),n}(s.Component)},q=n(6),E=n(7),C=n(11),g=Object(s.createContext)({}),S=g.Provider,x=g.Consumer,N=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(y.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement(x,null,function(n){return c.a.createElement(e,Object.assign({},t.props,{drumMachineActions:n}))})}}]),n}(s.Component)},w=Object(s.createContext)({}),A=w.Provider,K=w.Consumer,I=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(y.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement(K,null,function(n){return c.a.createElement(e,Object.assign({},t.props,{drumMachineState:n}))})}}]),n}(s.Component)},B=function(e){return Object.keys(e).map(function(t){return e[t]})},M=n(8),P=n.n(M),T=b(k(function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).SEQUENCE_LENGTH=16,n.deriveTracksFromSoundBank=function(){var e=n.props.soundBank;return B(e).reduce(function(e,t){return e[t.id]={soundId:t.id,sequence:new Array(n.SEQUENCE_LENGTH).fill(0)},e},{})},n.state={playing:!1,bpm:120,tracks:n.deriveTracksFromSoundBank(),noteIndex:0},n.setSequenceNote=function(e,t,r){var a=Object(C.a)(n.state.tracks[e].sequence);return a[t]=r,n.setState({tracks:Object(E.a)({},n.state.tracks,Object(q.a)({},e,Object(E.a)({},n.state.tracks[e],{sequence:a})))})},n.play=function(){n.state.playing||n.setState({playing:!0},function(){return n.playNoteAt(0)})},n.stop=function(){n.state.playing&&n.setState({playing:!1})},n.setBpm=function(e){return n.setState({bpm:e})},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"playNoteAt",value:function(e){var t=this;if(this.state.playing)return this.tracksAsArray.forEach(function(n){n.sequence[e]&&t.props.audioContext.playSound(n.soundId)}),this.setState({noteIndex:e}),setTimeout(function(){return e===t.SEQUENCE_LENGTH-1?t.playNoteAt(0):t.playNoteAt(e+1)},this.beatsPerMillisecond)}},{key:"render",value:function(){return c.a.createElement("div",{className:"border-gray p1_5 inline-block"},c.a.createElement(A,{value:{playing:this.state.playing,bpm:this.state.bpm,noteIndex:this.state.noteIndex}},c.a.createElement(S,{value:{setSequenceNote:this.setSequenceNote,play:this.play,stop:this.stop,setBpm:this.setBpm}},c.a.createElement(_,null),c.a.createElement(D,{tracks:this.tracksAsArray}),c.a.createElement(L,null))))}},{key:"tracksAsArray",get:function(){return B(this.state.tracks)}},{key:"beatsPerMillisecond",get:function(){return 6e4/this.state.bpm}}]),t}(s.Component))),_=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"flex justify-between mb2"},c.a.createElement("span",{className:"uppercase"},"Drum Machine"),c.a.createElement(H,null))}}]),t}(s.Component),H=I(function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=P()("StatusIndicator",{"StatusIndicator--active":this.props.drumMachineState.playing});return c.a.createElement("div",{className:"StatusIndicator__Container"},c.a.createElement("div",{className:e}))}}]),t}(s.Component)),L=I(N(function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"renderPlayButton",value:function(){var e=P()("Button h100 mr_5",{"drop-shadow":!this.props.drumMachineState.playing,"inner-shadow":this.props.drumMachineState.playing});return c.a.createElement("button",{className:e,onClick:this.props.drumMachineActions.play},"play")}},{key:"renderStopButton",value:function(){var e=P()("Button h100",{"drop-shadow":this.props.drumMachineState.playing,"inner-shadow":!this.props.drumMachineState.playing});return c.a.createElement("button",{className:e,onClick:this.props.drumMachineActions.stop},"stop")}},{key:"render",value:function(){return c.a.createElement("div",{className:"Controls flex justify-between mt2"},c.a.createElement("div",{className:"mr2"},this.renderPlayButton(),this.renderStopButton()),c.a.createElement("div",null,c.a.createElement(z,{onChange:this.props.drumMachineActions.setBpm,value:this.props.drumMachineState.bpm})))}}]),t}(s.Component))),z=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).onChange=function(e){return n.props.onChange(e.target.value)},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"h100 relative"},c.a.createElement("input",{className:"Input h100 inner-shadow",onChange:this.onChange,value:this.props.value,type:"number",min:"1",max:"999"}),c.a.createElement("span",{className:"detail color-gray overlay events-none flex justify-end items-center pr2"},"BPM"))}}]),t}(s.Component),D=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.props.tracks.map(function(e){return c.a.createElement(R,{track:e,key:e.soundId})})}}]),t}(s.Component),R=k(N(function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).onSequenceKeyClick=function(){return function(e,t){return n.props.drumMachineActions.setSequenceNote(n.props.track.soundId,e,t)}},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"mb1_5"},c.a.createElement("div",{className:"mb_5"},this.soundName),c.a.createElement(U,{sequence:this.props.track.sequence,onClickKey:this.onSequenceKeyClick()}))}},{key:"soundName",get:function(){return this.props.soundBank[this.props.track.soundId].name}}]),t}(s.Component))),U=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"flex"},this.props.sequence.map(function(t,n){return c.a.createElement(F,{note:t,index:n,key:n,onClick:e.props.onClickKey})}))}}]),t}(s.Component),F=I(function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).onClick=function(){var e=0===n.props.note?1:0;return n.props.onClick(n.props.index,e)},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:this.classes,onClick:this.onClick})}},{key:"on",get:function(){return 1===this.props.note}},{key:"active",get:function(){return!!this.props.drumMachineState.playing&&this.props.drumMachineState.noteIndex===this.props.index}},{key:"classes",get:function(){return P()("Key mr_5 border-radius",{"drop-shadow":!this.on,"inner-shadow":this.on,"bg-color-white":!this.active,"bg-color-light-gray":this.active})}}]),t}(s.Component)),G=Object(s.createContext)({}),W=G.Provider,Q=G.Consumer,V=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(y.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement(Q,null,function(n){return c.a.createElement(e,Object.assign({},t.props,{synthesizerActions:n}))})}}]),n}(s.Component)},J=Object(s.createContext)({}),X=J.Provider,Y=J.Consumer,Z="A",$="ASHARP",ee="B",te="C",ne="C2",re="CSHARP",ae="D",se="DSHARP",ce="E",oe="F",ue="FHSARP",ie="G",pe="GSHARP",le=3,he="sine",ye=(r={},Object(q.a)(r,te,65),Object(q.a)(r,re,87),Object(q.a)(r,ae,83),Object(q.a)(r,se,69),Object(q.a)(r,ce,68),Object(q.a)(r,oe,70),Object(q.a)(r,ue,84),Object(q.a)(r,ie,71),Object(q.a)(r,pe,89),Object(q.a)(r,Z,72),Object(q.a)(r,$,85),Object(q.a)(r,ee,74),Object(q.a)(r,ne,75),r),fe=65.40639,de=130.8128,me=261.6256,be=523.2511,Oe=1046.502,ve=2093.005,je=4186.009,ke=[[{note:te,frequency:32.7032,sharp:!1},{note:re,frequency:34.64783,sharp:!0},{note:ae,frequency:36.7081,sharp:!1},{note:se,frequency:38.89087,sharp:!0},{note:ce,frequency:41.20344,sharp:!1},{note:oe,frequency:43.65353,sharp:!1},{note:ue,frequency:46.2493,sharp:!0},{note:ie,frequency:48.99943,sharp:!1},{note:pe,frequency:51.91309,sharp:!0},{note:Z,frequency:55,sharp:!1},{note:$,frequency:58.27047,sharp:!0},{note:ee,frequency:61.73541,sharp:!1},{note:ne,frequency:fe,sharp:!1}],[{note:te,frequency:fe,sharp:!1},{note:re,frequency:69.29566,sharp:!0},{note:ae,frequency:73.41619,sharp:!1},{note:se,frequency:77.78175,sharp:!0},{note:ce,frequency:82.40689,sharp:!1},{note:oe,frequency:87.30706,sharp:!1},{note:ue,frequency:92.49861,sharp:!0},{note:ie,frequency:97.99886,sharp:!1},{note:pe,frequency:103.8262,sharp:!0},{note:Z,frequency:110,sharp:!1},{note:$,frequency:116.5409,sharp:!0},{note:ee,frequency:123.4708,sharp:!1},{note:ne,frequency:de,sharp:!1}],[{note:te,frequency:de,sharp:!1},{note:re,frequency:138.5913,sharp:!0},{note:ae,frequency:146.8324,sharp:!1},{note:se,frequency:155.5635,sharp:!0},{note:ce,frequency:164.8138,sharp:!1},{note:oe,frequency:174.6141,sharp:!1},{note:ue,frequency:184.9972,sharp:!0},{note:ie,frequency:195.9977,sharp:!1},{note:pe,frequency:207.6523,sharp:!0},{note:Z,frequency:220,sharp:!1},{note:$,frequency:233.0819,sharp:!0},{note:ee,frequency:246.9417,sharp:!1},{note:ne,frequency:me,sharp:!1}],[{note:te,frequency:me,sharp:!1},{note:re,frequency:277.1826,sharp:!0},{note:ae,frequency:293.6648,sharp:!1},{note:se,frequency:311.127,sharp:!0},{note:ce,frequency:329.6276,sharp:!1},{note:oe,frequency:349.2282,sharp:!1},{note:ue,frequency:369.9944,sharp:!0},{note:ie,frequency:391.9954,sharp:!1},{note:pe,frequency:415.3047,sharp:!0},{note:Z,frequency:440,sharp:!1},{note:$,frequency:466.1638,sharp:!0},{note:ee,frequency:493.8833,sharp:!1},{note:ne,frequency:be,sharp:!1}],[{note:te,frequency:be,sharp:!1},{note:re,frequency:554.3653,sharp:!0},{note:ae,frequency:587.3295,sharp:!1},{note:se,frequency:622.254,sharp:!0},{note:ce,frequency:659.2551,sharp:!1},{note:oe,frequency:698.4565,sharp:!1},{note:ue,frequency:739.9888,sharp:!0},{note:ie,frequency:783.9909,sharp:!1},{note:pe,frequency:830.6094,sharp:!0},{note:Z,frequency:880,sharp:!1},{note:$,frequency:932.3275,sharp:!0},{note:ee,frequency:987.7666,sharp:!1},{note:ne,frequency:Oe,sharp:!1}],[{note:te,frequency:Oe,sharp:!1},{note:re,frequency:1108.731,sharp:!0},{note:ae,frequency:1174.659,sharp:!1},{note:se,frequency:1244.508,sharp:!0},{note:ce,frequency:1318.51,sharp:!1},{note:oe,frequency:1396.913,sharp:!1},{note:ue,frequency:1479.978,sharp:!0},{note:ie,frequency:1567.982,sharp:!1},{note:pe,frequency:1661.219,sharp:!0},{note:Z,frequency:1760,sharp:!1},{note:$,frequency:1864.655,sharp:!0},{note:ee,frequency:1975.533,sharp:!1},{note:ne,frequency:ve,sharp:!1}],[{note:te,frequency:ve,sharp:!1},{note:re,frequency:2217.461,sharp:!0},{note:ae,frequency:2349.318,sharp:!1},{note:se,frequency:2489.016,sharp:!0},{note:ce,frequency:2637.02,sharp:!1},{note:oe,frequency:2793.826,sharp:!1},{note:ue,frequency:2959.955,sharp:!0},{note:ie,frequency:3135.963,sharp:!1},{note:pe,frequency:3322.438,sharp:!0},{note:Z,frequency:3520,sharp:!1},{note:$,frequency:3729.31,sharp:!0},{note:ee,frequency:3951.066,sharp:!1},{note:ne,frequency:je,sharp:!1}],[{note:te,frequency:je,sharp:!1},{note:re,frequency:4434.922,sharp:!0},{note:ae,frequency:4698.636,sharp:!1},{note:se,frequency:4978.032,sharp:!0},{note:ce,frequency:5274.041,sharp:!1},{note:oe,frequency:5587.652,sharp:!1},{note:ue,frequency:5919.911,sharp:!0},{note:ie,frequency:6271.927,sharp:!1},{note:pe,frequency:6644.875,sharp:!0},{note:Z,frequency:7040,sharp:!1},{note:$,frequency:7458.62,sharp:!0},{note:ee,frequency:7902.133,sharp:!1},{note:ne,frequency:8372.019,sharp:!1}]],qe=b(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={octaveIndex:le,waveform:he,keys:{}},n.setOctaveIndex=function(e){return n.disconnectAllOctave(),n.setState({octaveIndex:e})},n.setWaveform=function(e){return B(n.state.keys).forEach(function(t){t.oscillator.type=e}),n.setState({waveform:e})},n.connectOscillator=function(e){n.setState({keys:Object(E.a)({},n.state.keys,Object(q.a)({},e,Object(E.a)({},n.state.keys[e],{isPressed:!0})))},function(){n.state.keys[e].oscillator.connect(n.props.audioContext.context.destination)})},n.disconnectOscillator=function(e){n.setState({keys:Object(E.a)({},n.state.keys,Object(q.a)({},e,Object(E.a)({},n.state.keys[e],{isPressed:!1})))},function(){n.state.keys[e].oscillator.disconnect()})},n.onKeyDown=function(e){if(n.enabledKeys.includes(e.keyCode))return n.connectOscillator(e.keyCode)},n.onKeyUp=function(e){if(n.enabledKeys.includes(e.keyCode))return n.disconnectOscillator(e.keyCode)},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setEnabledKeys(),this.setOctaveKeys(),this.bindKeyboardEvents()}},{key:"componentDidUpdate",value:function(e,t){if(t.octaveIndex!==this.state.octaveIndex)return this.setOctaveKeys()}},{key:"setEnabledKeys",value:function(){this.enabledKeys=B(ye)}},{key:"setOctaveKeys",value:function(){var e=this;return this.setState({keys:this.octave.reduce(function(t,n,r){var a=e.props.audioContext.context.createOscillator();a.type=e.state.waveform,a.frequency.setValueAtTime(n.frequency,e.props.audioContext.context.currentTime),a.start();var s=ye[n.note];return t[s]={index:r,triggerKeyCode:s,oscillator:a,isPressed:!1,sharp:n.sharp,frequency:n.frequency},t},{})})}},{key:"bindKeyboardEvents",value:function(e){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}},{key:"disconnectAllOctave",value:function(){B(this.state.keys).forEach(function(e){return e.oscillator.disconnect()})}},{key:"render",value:function(){return c.a.createElement(X,{value:{octaveIndex:this.state.octaveIndex,waveform:this.state.waveform}},c.a.createElement(W,{value:{pressKey:this.connectOscillator,releaseKey:this.disconnectOscillator,setOctaveIndex:this.setOctaveIndex,setWaveform:this.setWaveform}},c.a.createElement("div",{className:"border-gray p1_5 inline-block"},c.a.createElement(Ee,null),c.a.createElement(Ne,{keys:this.keys}),c.a.createElement(ge,null))))}},{key:"octave",get:function(){return ke[this.state.octaveIndex]}},{key:"keys",get:function(){return B(this.state.keys).sort(function(e,t){return e.index-t.index})}}]),t}(s.Component)),Ee=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"flex justify-between mb2"},c.a.createElement("span",{className:"uppercase"},"Synthesizer"))}}]),t}(s.Component),Ce=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"Controls flex justify-between mt2"},c.a.createElement("div",{className:"mr1_5"},c.a.createElement(xe,{onChange:this.props.synthesizerActions.setWaveform,value:this.props.synthesizerState.waveform})),c.a.createElement("div",null,c.a.createElement(Se,{onChange:this.props.synthesizerActions.setOctaveIndex,value:this.props.synthesizerState.octaveIndex})))}}]),t}(s.Component),ge=(a=V(Ce),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(Y,null,function(t){return c.a.createElement(a,Object.assign({},e.props,{synthesizerState:t}))})}}]),t}(s.Component)),Se=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).onChange=function(e){return n.props.onChange(e.target.value)},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"h100 relative"},c.a.createElement("input",{className:"Input Input--small h100 inner-shadow",onChange:this.onChange,value:this.props.value,type:"number",max:ke.length-1,min:0}),c.a.createElement("span",{className:"detail color-gray overlay events-none flex justify-end items-center pr2"},"OCTAVE"))}}]),t}(s.Component),xe=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).onChange=function(e){return n.props.onChange(e.target.value)},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"h100 relative"},c.a.createElement("span",{className:"detail color-gray overlay events-none flex justify-end items-center pr1"},"WAVEFORM"),c.a.createElement("select",{className:"Select h100 inner-shadow",onChange:this.onChange,value:this.props.value},c.a.createElement("option",{value:he},"SINE"),c.a.createElement("option",{value:"square"},"SQUARE"),c.a.createElement("option",{value:"sawtooth"},"SAWTOOTH"),c.a.createElement("option",{value:"triangle"},"TRIANGLE")))}}]),t}(s.Component),Ne=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"Keyboard text-center"},c.a.createElement("div",{className:"inline-flex relative"},this.props.keys.map(function(t,n){var r=n===e.props.keys.length-1;return c.a.createElement(we,{keyObj:t,isLastKey:r,key:t.triggerKeyCode})})))}}]),t}(s.Component),we=V(function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).pressKey=function(){n.props.synthesizerActions.pressKey(n.props.keyObj.triggerKeyCode)},n.releaseKey=function(){n.props.synthesizerActions.releaseKey(n.props.keyObj.triggerKeyCode)},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e="auto";return this.props.keyObj.sharp&&(e=this.props.keyObj.index>4?24*this.props.keyObj.index+24:24*this.props.keyObj.index),c.a.createElement("div",{className:this.classes,onMouseDown:this.pressKey,onMouseUp:this.releaseKey,onMouseOut:this.releaseKey,style:{left:e}})}},{key:"classes",get:function(){return P()("Key Key--large bg-color-white border-radius",{mr_5:!this.props.isLastKey,"drop-shadow":!this.props.keyObj.isPressed,"inner-shadow":this.props.keyObj.isPressed,"Key--sharp":this.props.keyObj.sharp,"Key--regular":!this.props.keyObj.sharp})}}]),t}(s.Component)),Ae=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={soundsLoaded:!1},n.audioContext=new(AudioContext||window.webkitAudioContext),n.soundFiles=[{id:"hat",name:"Hi\u2014Hat",path:"sounds/hat.wav"},{id:"kick",name:"Kick",path:"sounds/kick.wav"},{id:"snare",name:"Snare",path:"sounds/snare.wav"}],n.soundBank={},n.loadSounds=function(e){return Promise.all(e.map(function(e){return n.loadSound(e)})).then(function(){return n.setState({soundsLoaded:!0})})},n.loadSound=function(e){return fetch(e.path).then(function(e){return e.arrayBuffer()}).then(function(e){return n.audioContext.decodeAudioData(e)}).then(function(t){return n.addSoundToSoundBank({id:e.id,name:e.name,buffer:t})})},n.addSoundToSoundBank=function(e){n.soundBank[e.id]={id:e.id,name:e.name,buffer:e.buffer}},n.playSound=function(e){return n.playBuffer(n.soundBank[e].buffer)},n.playBuffer=function(e){var t=n.audioContext.createBufferSource();t.buffer=e,t.connect(n.audioContext.destination),t.start(0)},n.loadSounds(n.soundFiles),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.state.soundsLoaded?c.a.createElement(m,{value:{playSound:this.playSound,context:this.audioContext}},c.a.createElement(v,{value:this.soundBank},c.a.createElement("div",{className:"flex justify-center mt4"},c.a.createElement("div",{className:"mr2"},c.a.createElement(qe,null)),c.a.createElement("div",null,c.a.createElement(T,null))))):null}}]),t}(s.Component),Ke=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("main",null,c.a.createElement(Ae,null))}}]),t}(s.Component);n(17);u.a.render(c.a.createElement(Ke,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.7cfefe87.chunk.js.map