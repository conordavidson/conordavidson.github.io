{"version":3,"sources":["components/Synthesizer/SynthesizerContext.js","components/Context/AudioContextContext.js","components/SoundBank/SoundBankContext.js","components/DrumMachine/DrumMachineContext.js","utils/objectValues.js","components/DrumMachine/index.js","components/Synthesizer/Keyboard.js","components/Synthesizer/index.js","components/Context/index.js","Main.js","index.js"],"names":["WrappedComponent","AudioContextContext","createContext","AudioContextConsumer","Consumer","AudioContextProvider","Provider","withAudioContext","_Component","WithAudioContextComponent","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","_this","react_default","a","createElement","audioContext","assign","props","Component","SoundBankContext","SoundBankProvider","SoundBankConsumer","withSoundBank","WithSoundBankComponent","soundBank","DrumMachineActionsContext","DrumMachineActionsProvider","DrumMachineActionsConsumer","withDrumMachineActions","WithDrumMachineActionsComponent","drumMachineActions","DrumMachineStateContext","DrumMachineStateProvider","DrumMachineStateConsumer","withDrumMachineState","_Component2","WithDrumMachineStateComponent","_this2","drumMachineState","objectValues","object","keys","map","SEQUENCE_LENGTH","deriveTracksFromSoundBank","reduce","tracks","sound","id","soundId","sequence","Array","fill","state","playing","bpm","noteIndex","setSequenceNote","updatedSequence","toConsumableArray","setState","objectSpread","defineProperty","play","playNoteAt","stop","setBpm","tracksAsArray","forEach","track","playSound","setTimeout","beatsPerMillisecond","className","DrumMachine_Header","DrumMachine_Tracks","Controls","Header","StatusIndicator","classes","cx","StatusIndicator--active","drop-shadow","inner-shadow","onClick","renderPlayButton","renderStopButton","DrumMachine_BpmSelector","onChange","BpmSelector","e","_this3","target","type","min","max","Tracks","Track","onSequenceKeyClick","_this4","soundName","DrumMachine_TrackSequence","onClickKey","name","TrackSequence","_this5","note","index","SequenceKey","newNoteValue","_this6","on","bg-color-white","active","bg-color-light-gray","SynthesizerActionsContext","SynthesizerActionsProvider","SynthesizerActionsConsumer","withSynthesizerActions","WithSynthesizerActionsComponent","synthesizerActions","SynthesizerStateContext","SynthesizerStateProvider","SynthesizerStateConsumer","A","ASHARP","B","C","C2","CSHARP","D","DSHARP","E","F","FSHARP","G","GSHARP","DEFAULT_OCTIVE_INDEX","SINE","KeyCodeMapping","_KeyCodeMapping","Frequencies","Octaves","frequency","sharp","Synthesizer","call","octaveIndex","waveform","setOctaveIndex","disconnectAllOctave","setWaveform","oscillator","connectOscillator","triggerKeyCode","isPressed","connect","context","destination","disconnectOscillator","disconnect","onKeyDown","enabledKeys","includes","keyCode","onKeyUp","setEnabledKeys","setOctaveKeys","bindKeyboardEvents","prevProps","prevState","octave","createOscillator","setValueAtTime","currentTime","start","document","addEventListener","pressKey","releaseKey","Synthesizer_Header","Synthesizer_Keyboard","Synthesizer_Controls","sort","b","ControlsRaw","Synthesizer_WaveformSelector","synthesizerState","Synthesizer_OctaveSelector","WithSynthesizerStateComponent","OctaveSelector","length","WaveformSelector","Keyboard","isLastKey","Key","keyObj","leftPosition","onMouseDown","onMouseUp","onMouseOut","style","left","mr_5","Key--sharp","Key--regular","Context","soundsLoaded","AudioContext","window","webkitAudioContext","soundFiles","path","loadSounds","Promise","all","soundFile","loadSound","then","fetch","res","arrayBuffer","decodeAudioData","buffer","addSoundToSoundBank","playBuffer","source","createBufferSource","components_Synthesizer","components_DrumMachine","App","components_Context","ReactDOM","render","Main","getElementById"],"mappings":"+JAoBoCA,sEClBvBC,EAAsBC,wBAAc,IACpCC,EAAuBF,EAAoBG,SAC3CC,EAAuBJ,EAAoBK,SAC3CC,EAAmB,SAAAP,GAW9B,OAXkD,SAAAQ,GAAA,SAAAC,IAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAH,GAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAD,GAAAM,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAD,EAAAD,GAAAE,OAAAQ,EAAA,EAAAR,CAAAD,EAAA,EAAAU,IAAA,SAAAC,MAAA,WAEvC,IAAAC,EAAAT,KACP,OACEU,EAAAC,EAAAC,cAACrB,EAAD,KACG,SAAAsB,GAAY,OAAIH,EAAAC,EAAAC,cAACxB,EAADU,OAAAgB,OAAA,GAAsBL,EAAKM,MAA3B,CAAkCF,aAAcA,WALvBhB,EAAA,CACVmB,cCJ7BC,EAAmB3B,wBAAc,IACjC4B,EAAoBD,EAAiBvB,SACrCyB,EAAoBF,EAAiBzB,SACrC4B,EAAgB,SAAAhC,GAC3B,gBAAAQ,GAAA,SAAAyB,IAAA,OAAAvB,OAAAC,EAAA,EAAAD,CAAAE,KAAAqB,GAAAvB,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuB,GAAAlB,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAuB,EAAAzB,GAAAE,OAAAQ,EAAA,EAAAR,CAAAuB,EAAA,EAAAd,IAAA,SAAAC,MAAA,WACW,IAAAC,EAAAT,KACP,OACEU,EAAAC,EAAAC,cAACO,EAAD,KAAoB,SAAAG,GAAS,OAAIZ,EAAAC,EAAAC,cAACxB,EAADU,OAAAgB,OAAA,GAAsBL,EAAKM,MAA3B,CAAkCO,UAAWA,WAHpFD,EAAA,CAA4CL,oCCJjCO,EAA4BjC,wBAAc,IAC1CkC,EAA6BD,EAA0B7B,SACvD+B,EAA6BF,EAA0B/B,SACvDkC,EAAyB,SAAAtC,GACpC,gBAAAQ,GAAA,SAAA+B,IAAA,OAAA7B,OAAAC,EAAA,EAAAD,CAAAE,KAAA2B,GAAA7B,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6B,GAAAxB,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAA6B,EAAA/B,GAAAE,OAAAQ,EAAA,EAAAR,CAAA6B,EAAA,EAAApB,IAAA,SAAAC,MAAA,WACW,IAAAC,EAAAT,KACP,OACEU,EAAAC,EAAAC,cAACa,EAAD,KACG,SAAAG,GAAkB,OAAIlB,EAAAC,EAAAC,cAACxB,EAADU,OAAAgB,OAAA,GAAsBL,EAAKM,MAA3B,CAAkCa,mBAAoBA,WAJrFD,EAAA,CAAqDX,cAW1Ca,EAA0BvC,wBAAc,IACxCwC,EAA2BD,EAAwBnC,SACnDqC,EAA2BF,EAAwBrC,SACnDwC,EAAuB,SAAA5C,GAClC,gBAAA6C,GAAA,SAAAC,IAAA,OAAApC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkC,GAAApC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoC,GAAA/B,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAoC,EAAAD,GAAAnC,OAAAQ,EAAA,EAAAR,CAAAoC,EAAA,EAAA3B,IAAA,SAAAC,MAAA,WACW,IAAA2B,EAAAnC,KACP,OACEU,EAAAC,EAAAC,cAACmB,EAAD,KACG,SAAAK,GAAgB,OAAI1B,EAAAC,EAAAC,cAACxB,EAADU,OAAAgB,OAAA,GAAsBqB,EAAKpB,MAA3B,CAAkCqB,iBAAkBA,WAJjFF,EAAA,CAAmDlB,cCpBtCqB,EAAA,SAACC,GAAD,OAAgCxC,OAAOyC,KAAKD,GAAQE,IAAI,SAAAjC,GAAG,OAAI+B,EAAO/B,sBCoItEZ,IAAiByB,6MA1G9BqB,gBAAkB,KAElBC,0BAA4B,WAC1B,IAAMpB,EAAuBb,EAAKM,MAAMO,UACxC,OAAOe,EAAaf,GAAWqB,OAAO,SAACC,EAAsBC,GAK3D,OAJAD,EAAOC,EAAMC,IAAM,CACjBC,QAASF,EAAMC,GACfE,SAAU,IAAIC,MAAMxC,EAAKgC,iBAAiBS,KAAK,IAE1CN,GACN,OAGLO,MAAQ,CACNC,SAAS,EACTC,IAAK,IACLT,OAAQnC,EAAKiC,4BACbY,UAAW,KAObC,gBAAkB,SAACR,EAAiBO,EAAmB9C,GACrD,IAAMgD,EAAyB1D,OAAA2D,EAAA,EAAA3D,CAAOW,EAAK0C,MAAMP,OAAOG,GAASC,UAGjE,OAFAQ,EAAgBF,GAAa9C,EAEtBC,EAAKiD,SAAS,CACnBd,OAAO9C,OAAA6D,EAAA,EAAA7D,CAAA,GACFW,EAAK0C,MAAMP,OADV9C,OAAA8D,EAAA,EAAA9D,CAAA,GAEHiD,EAFGjD,OAAA6D,EAAA,EAAA7D,CAAA,GAGCW,EAAK0C,MAAMP,OAAOG,GAHnB,CAIFC,SAAUQ,WAUlBK,KAAO,WACDpD,EAAK0C,MAAMC,SACf3C,EAAKiD,SACH,CACEN,SAAS,GAEX,kBAAM3C,EAAKqD,WAAW,QAI1BC,KAAO,WACAtD,EAAK0C,MAAMC,SAChB3C,EAAKiD,SAAS,CACZN,SAAS,OAoBbY,OAAS,SAAAX,GACP,OAAO5C,EAAKiD,SAAS,CAAEL,mFAjBdC,GAAW,IAAAnB,EAAAnC,KACpB,GAAKA,KAAKmD,MAAMC,QAUhB,OARApD,KAAKiE,cAAcC,QAAQ,SAAAC,GACrBA,EAAMnB,SAASM,IACjBnB,EAAKpB,MAAMF,aAAauD,UAAUD,EAAMpB,WAI5C/C,KAAK0D,SAAS,CAAEJ,cAETe,WAAW,WAChB,OAAOf,IAAcnB,EAAKM,gBAAkB,EAAIN,EAAK2B,WAAW,GAAK3B,EAAK2B,WAAWR,EAAY,IAChGtD,KAAKsE,sDAQR,OACE5D,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,iCACb7D,EAAAC,EAAAC,cAACkB,EAAD,CACEtB,MAAO,CACL4C,QAASpD,KAAKmD,MAAMC,QACpBC,IAAKrD,KAAKmD,MAAME,IAChBC,UAAWtD,KAAKmD,MAAMG,YAExB5C,EAAAC,EAAAC,cAACY,EAAD,CACEhB,MAAO,CACL+C,gBAAiBvD,KAAKuD,gBACtBM,KAAM7D,KAAK6D,KACXE,KAAM/D,KAAK+D,KACXC,OAAQhE,KAAKgE,SAEftD,EAAAC,EAAAC,cAAC4D,EAAD,MACA9D,EAAAC,EAAAC,cAAC6D,EAAD,CAAQ7B,OAAQ5C,KAAKiE,gBACrBvD,EAAAC,EAAAC,cAAC8D,EAAD,+CA7ER,OAAOrC,EAAarC,KAAKmD,MAAMP,oDAmB/B,OAAO,IAAQ5C,KAAKmD,MAAME,WAzCJrC,eAgHpB2D,mLAEF,OACEjE,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,4BACb7D,EAAAC,EAAAC,cAAA,QAAM2D,UAAU,aAAhB,gBACA7D,EAAAC,EAAAC,cAACgE,EAAD,cALa5D,aAiCf4D,EAAkB5C,mLAfpB,IAAM6C,EAAUC,IAAG,kBAAmB,CACpCC,0BAA2B/E,KAAKe,MAAMqB,iBAAiBgB,UAKzD,OACE1C,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,8BACb7D,EAAAC,EAAAC,cAAA,OAAK2D,UAAWM,YAVS7D,cA2D3B0D,EAAW1C,EAAqBN,6LAlClC,IAAMmD,EAAUC,IAAG,mBAAoB,CACtCE,eAAgBhF,KAAKe,MAAMqB,iBAAiBgB,QAC5C6B,eAAgBjF,KAAKe,MAAMqB,iBAAiBgB,UAE7C,OACE1C,EAAAC,EAAAC,cAAA,UAAQ2D,UAAWM,EAASK,QAASlF,KAAKe,MAAMa,mBAAmBiC,MAAnE,mDAKF,IAAMgB,EAAUC,IAAG,cAAe,CACjCE,cAAehF,KAAKe,MAAMqB,iBAAiBgB,QAC3C6B,gBAAiBjF,KAAKe,MAAMqB,iBAAiBgB,UAE9C,OACE1C,EAAAC,EAAAC,cAAA,UAAQ2D,UAAWM,EAASK,QAASlF,KAAKe,MAAMa,mBAAmBmC,MAAnE,yCAKF,OACErD,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,qCACb7D,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,OACZvE,KAAKmF,mBACLnF,KAAKoF,oBAER1E,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyE,EAAD,CAAaC,SAAUtF,KAAKe,MAAMa,mBAAmBoC,OAAQxD,MAAOR,KAAKe,MAAMqB,iBAAiBiB,eA9BhFrC,eA4CpBuE,6MACJD,SAAW,SAAAE,GAAC,OAAIC,EAAK1E,MAAMuE,SAASE,EAAEE,OAAOlF,gFAG3C,OACEE,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,iBACb7D,EAAAC,EAAAC,cAAA,SAAO2D,UAAU,0BAA0Be,SAAUtF,KAAKsF,SAAU9E,MAAOR,KAAKe,MAAMP,MAAOmF,KAAK,SAASC,IAAI,IAAIC,IAAI,QACvHnF,EAAAC,EAAAC,cAAA,QAAM2D,UAAU,2EAAhB,eAPkBvD,aAsBpB8E,mLAEF,OAAO9F,KAAKe,MAAM6B,OAAOJ,IAAI,SAAA2B,GAAK,OAChCzD,EAAAC,EAAAC,cAACmF,EAAD,CAAO5B,MAAOA,EAAO5D,IAAK4D,EAAMpB,mBAHjB/B,aAqCf+E,EAAQ3E,EAAcM,6MAd1BsE,mBAAqB,kBAAM,SAAC1C,EAAmB9C,GAC7C,OAAOyF,EAAKlF,MAAMa,mBAAmB2B,gBAAgB0C,EAAKlF,MAAMoD,MAAMpB,QAASO,EAAW9C,6EAI1F,OACEE,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,SACb7D,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,QAAQvE,KAAKkG,WAC5BxF,EAAAC,EAAAC,cAACuF,EAAD,CAAenD,SAAUhD,KAAKe,MAAMoD,MAAMnB,SAAUoD,WAAYpG,KAAKgG,0DAXzE,OAAOhG,KAAKe,MAAMO,UAAUtB,KAAKe,MAAMoD,MAAMpB,SAASsD,YAFnCrF,eA8BjBsF,mLACK,IAAAC,EAAAvG,KACP,OACEU,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,QACZvE,KAAKe,MAAMiC,SAASR,IAAI,SAACgE,EAAMC,GAAP,OACvB/F,EAAAC,EAAAC,cAAC8F,EAAD,CAAaF,KAAMA,EAAMC,MAAOA,EAAOlG,IAAKkG,EAAOvB,QAASqB,EAAKxF,MAAMqF,uBALrDpF,aAuDtB0F,EAAc1E,6MAlClBkD,QAAU,WACR,IAAMyB,EAAmC,IAApBC,EAAK7F,MAAMyF,KAAa,EAAI,EACjD,OAAOI,EAAK7F,MAAMmE,QAAQ0B,EAAK7F,MAAM0F,MAAOE,4EAsB5C,OACEjG,EAAAC,EAAAC,cAAA,OACE2D,UAAWvE,KAAK6E,QAChBK,QAASlF,KAAKkF,qCArBlB,OAA2B,IAApBlF,KAAKe,MAAMyF,oCAIlB,QAAKxG,KAAKe,MAAMqB,iBAAiBgB,SAC1BpD,KAAKe,MAAMqB,iBAAiBkB,YAActD,KAAKe,MAAM0F,sCAI5D,OAAO3B,IAAG,yBAA0B,CAClCE,eAAgBhF,KAAK6G,GACrB5B,eAAgBjF,KAAK6G,GACrBC,kBAAmB9G,KAAK+G,OACxBC,sBAAuBhH,KAAK+G,gBApBL/F,cLpThBiG,EAA4B3H,wBAAc,IAC1C4H,EAA6BD,EAA0BvH,SACvDyH,EAA6BF,EAA0BzH,SACvD4H,EAAyB,SAAAhI,GACpC,gBAAAQ,GAAA,SAAAyH,IAAA,OAAAvH,OAAAC,EAAA,EAAAD,CAAAE,KAAAqH,GAAAvH,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuH,GAAAlH,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAuH,EAAAzH,GAAAE,OAAAQ,EAAA,EAAAR,CAAAuH,EAAA,EAAA9G,IAAA,SAAAC,MAAA,WACW,IAAAC,EAAAT,KACP,OACEU,EAAAC,EAAAC,cAACuG,EAAD,KACG,SAAAG,GAAkB,OAAI5G,EAAAC,EAAAC,cAACxB,EAADU,OAAAgB,OAAA,GAAsBL,EAAKM,MAA3B,CAAkCuG,mBAAoBA,WAJrFD,EAAA,CAAqDrG,cAW1CuG,EAA0BjI,wBAAc,IACxCkI,EAA2BD,EAAwB7H,SACnD+H,EAA2BF,EAAwB/H,SMnB1DkI,EAAI,IACJC,EAAS,SACTC,GAAI,IACJC,GAAI,IACJC,GAAK,KACLC,GAAS,SACTC,GAAI,IACJC,GAAS,SACTC,GAAI,IACJC,GAAI,IACJC,GAAS,SACTC,GAAI,IACJC,GAAS,SAEFC,GAAuB,EAEvBC,GAAO,OAKPC,IAAcC,EAAA,GAAA5I,OAAA8D,EAAA,EAAA9D,CAAA4I,EACxBb,GAAI,IADoB/H,OAAA8D,EAAA,EAAA9D,CAAA4I,EAExBX,GAAS,IAFejI,OAAA8D,EAAA,EAAA9D,CAAA4I,EAGxBV,GAAI,IAHoBlI,OAAA8D,EAAA,EAAA9D,CAAA4I,EAIxBT,GAAS,IAJenI,OAAA8D,EAAA,EAAA9D,CAAA4I,EAKxBR,GAAI,IALoBpI,OAAA8D,EAAA,EAAA9D,CAAA4I,EAMxBP,GAAI,IANoBrI,OAAA8D,EAAA,EAAA9D,CAAA4I,EAOxBN,GAAS,IAPetI,OAAA8D,EAAA,EAAA9D,CAAA4I,EAQxBL,GAAI,IARoBvI,OAAA8D,EAAA,EAAA9D,CAAA4I,EASxBJ,GAAS,IATexI,OAAA8D,EAAA,EAAA9D,CAAA4I,EAUxBhB,EAAI,IAVoB5H,OAAA8D,EAAA,EAAA9D,CAAA4I,EAWxBf,EAAS,IAXe7H,OAAA8D,EAAA,EAAA9D,CAAA4I,EAYxBd,GAAI,IAZoB9H,OAAA8D,EAAA,EAAA9D,CAAA4I,EAaxBZ,GAAK,IAbmBY,GAgBdC,GAaP,SAbOA,GAyBP,SAzBOA,GAqCP,SArCOA,GAiDP,SAjDOA,GA6DP,SA7DOA,GAyEP,SAzEOA,GAqFP,SAeOC,GAAU,CACrB,CACE,CACEpC,KAAMqB,GACNgB,UAvGA,QAwGAC,OAAO,GAET,CACEtC,KAAMuB,GACNc,UA3GK,SA4GLC,OAAO,GAET,CACEtC,KAAMwB,GACNa,UA/GA,QAgHAC,OAAO,GAET,CACEtC,KAAMyB,GACNY,UAnHK,SAoHLC,OAAO,GAET,CACEtC,KAAM0B,GACNW,UAvHA,SAwHAC,OAAO,GAET,CACEtC,KAAM2B,GACNU,UA3HA,SA4HAC,OAAO,GAET,CACEtC,KAAM4B,GACNS,UA/HK,QAgILC,OAAO,GAET,CACEtC,KAAM6B,GACNQ,UAnIA,SAoIAC,OAAO,GAET,CACEtC,KAAM8B,GACNO,UAvIK,SAwILC,OAAO,GAET,CACEtC,KAAMkB,EACNmB,UA3IA,GA4IAC,OAAO,GAET,CACEtC,KAAMmB,EACNkB,UA/IK,SAgJLC,OAAO,GAET,CACEtC,KAAMoB,GACNiB,UAnJA,SAoJAC,OAAO,GAET,CACEtC,KAAMsB,GACNe,UAAWF,GACXG,OAAO,IAGX,CACE,CACEtC,KAAMqB,GACNgB,UAAWF,GACXG,OAAO,GAET,CACEtC,KAAMuB,GACNc,UAlKK,SAmKLC,OAAO,GAET,CACEtC,KAAMwB,GACNa,UAtKA,SAuKAC,OAAO,GAET,CACEtC,KAAMyB,GACNY,UA1KK,SA2KLC,OAAO,GAET,CACEtC,KAAM0B,GACNW,UA9KA,SA+KAC,OAAO,GAET,CACEtC,KAAM2B,GACNU,UAlLA,SAmLAC,OAAO,GAET,CACEtC,KAAM4B,GACNS,UAtLK,SAuLLC,OAAO,GAET,CACEtC,KAAM6B,GACNQ,UA1LA,SA2LAC,OAAO,GAET,CACEtC,KAAM8B,GACNO,UA9LK,SA+LLC,OAAO,GAET,CACEtC,KAAMkB,EACNmB,UAlMA,IAmMAC,OAAO,GAET,CACEtC,KAAMmB,EACNkB,UAtMK,SAuMLC,OAAO,GAET,CACEtC,KAAMoB,GACNiB,UA1MA,SA2MAC,OAAO,GAET,CACEtC,KAAMsB,GACNe,UAAWF,GACXG,OAAO,IAGX,CACE,CACEtC,KAAMqB,GACNgB,UAAWF,GACXG,OAAO,GAET,CACEtC,KAAMuB,GACNc,UAzNK,SA0NLC,OAAO,GAET,CACEtC,KAAMwB,GACNa,UA7NA,SA8NAC,OAAO,GAET,CACEtC,KAAMyB,GACNY,UAjOK,SAkOLC,OAAO,GAET,CACEtC,KAAM0B,GACNW,UArOA,SAsOAC,OAAO,GAET,CACEtC,KAAM2B,GACNU,UAzOA,SA0OAC,OAAO,GAET,CACEtC,KAAM4B,GACNS,UA7OK,SA8OLC,OAAO,GAET,CACEtC,KAAM6B,GACNQ,UAjPA,SAkPAC,OAAO,GAET,CACEtC,KAAM8B,GACNO,UArPK,SAsPLC,OAAO,GAET,CACEtC,KAAMkB,EACNmB,UAzPA,IA0PAC,OAAO,GAET,CACEtC,KAAMmB,EACNkB,UA7PK,SA8PLC,OAAO,GAET,CACEtC,KAAMoB,GACNiB,UAjQA,SAkQAC,OAAO,GAET,CACEtC,KAAMsB,GACNe,UAAWF,GACXG,OAAO,IAGX,CACE,CACEtC,KAAMqB,GACNgB,UAAWF,GACXG,OAAO,GAET,CACEtC,KAAMuB,GACNc,UAhRK,SAiRLC,OAAO,GAET,CACEtC,KAAMwB,GACNa,UApRA,SAqRAC,OAAO,GAET,CACEtC,KAAMyB,GACNY,UAxRK,QAyRLC,OAAO,GAET,CACEtC,KAAM0B,GACNW,UA5RA,SA6RAC,OAAO,GAET,CACEtC,KAAM2B,GACNU,UAhSA,SAiSAC,OAAO,GAET,CACEtC,KAAM4B,GACNS,UApSK,SAqSLC,OAAO,GAET,CACEtC,KAAM6B,GACNQ,UAxSA,SAySAC,OAAO,GAET,CACEtC,KAAM8B,GACNO,UA5SK,SA6SLC,OAAO,GAET,CACEtC,KAAMkB,EACNmB,UAhTA,IAiTAC,OAAO,GAET,CACEtC,KAAMmB,EACNkB,UApTK,SAqTLC,OAAO,GAET,CACEtC,KAAMoB,GACNiB,UAxTA,SAyTAC,OAAO,GAET,CACEtC,KAAMsB,GACNe,UAAWF,GACXG,OAAO,IAGX,CACE,CACEtC,KAAMqB,GACNgB,UAAWF,GACXG,OAAO,GAET,CACEtC,KAAMuB,GACNc,UAvUK,SAwULC,OAAO,GAET,CACEtC,KAAMwB,GACNa,UA3UA,SA4UAC,OAAO,GAET,CACEtC,KAAMyB,GACNY,UA/UK,QAgVLC,OAAO,GAET,CACEtC,KAAM0B,GACNW,UAnVA,SAoVAC,OAAO,GAET,CACEtC,KAAM2B,GACNU,UAvVA,SAwVAC,OAAO,GAET,CACEtC,KAAM4B,GACNS,UA3VK,SA4VLC,OAAO,GAET,CACEtC,KAAM6B,GACNQ,UA/VA,SAgWAC,OAAO,GAET,CACEtC,KAAM8B,GACNO,UAnWK,SAoWLC,OAAO,GAET,CACEtC,KAAMkB,EACNmB,UAvWA,IAwWAC,OAAO,GAET,CACEtC,KAAMmB,EACNkB,UA3WK,SA4WLC,OAAO,GAET,CACEtC,KAAMoB,GACNiB,UA/WA,SAgXAC,OAAO,GAET,CACEtC,KAAMsB,GACNe,UAAWF,GACXG,OAAO,IAGX,CACE,CACEtC,KAAMqB,GACNgB,UAAWF,GACXG,OAAO,GAET,CACEtC,KAAMuB,GACNc,UA9XK,SA+XLC,OAAO,GAET,CACEtC,KAAMwB,GACNa,UAlYA,SAmYAC,OAAO,GAET,CACEtC,KAAMyB,GACNY,UAtYK,SAuYLC,OAAO,GAET,CACEtC,KAAM0B,GACNW,UA1YA,QA2YAC,OAAO,GAET,CACEtC,KAAM2B,GACNU,UA9YA,SA+YAC,OAAO,GAET,CACEtC,KAAM4B,GACNS,UAlZK,SAmZLC,OAAO,GAET,CACEtC,KAAM6B,GACNQ,UAtZA,SAuZAC,OAAO,GAET,CACEtC,KAAM8B,GACNO,UA1ZK,SA2ZLC,OAAO,GAET,CACEtC,KAAMkB,EACNmB,UA9ZA,KA+ZAC,OAAO,GAET,CACEtC,KAAMmB,EACNkB,UAlaK,SAmaLC,OAAO,GAET,CACEtC,KAAMoB,GACNiB,UAtaA,SAuaAC,OAAO,GAET,CACEtC,KAAMsB,GACNe,UAAWF,GACXG,OAAO,IAGX,CACE,CACEtC,KAAMqB,GACNgB,UAAWF,GACXG,OAAO,GAET,CACEtC,KAAMuB,GACNc,UArbK,SAsbLC,OAAO,GAET,CACEtC,KAAMwB,GACNa,UAzbA,SA0bAC,OAAO,GAET,CACEtC,KAAMyB,GACNY,UA7bK,SA8bLC,OAAO,GAET,CACEtC,KAAM0B,GACNW,UAjcA,QAkcAC,OAAO,GAET,CACEtC,KAAM2B,GACNU,UArcA,SAscAC,OAAO,GAET,CACEtC,KAAM4B,GACNS,UAzcK,SA0cLC,OAAO,GAET,CACEtC,KAAM6B,GACNQ,UA7cA,SA8cAC,OAAO,GAET,CACEtC,KAAM8B,GACNO,UAjdK,SAkdLC,OAAO,GAET,CACEtC,KAAMkB,EACNmB,UArdA,KAsdAC,OAAO,GAET,CACEtC,KAAMmB,EACNkB,UAzdK,QA0dLC,OAAO,GAET,CACEtC,KAAMoB,GACNiB,UA7dA,SA8dAC,OAAO,GAET,CACEtC,KAAMsB,GACNe,UAAWF,GACXG,OAAO,IAGX,CACE,CACEtC,KAAMqB,GACNgB,UAAWF,GACXG,OAAO,GAET,CACEtC,KAAMuB,GACNc,UA5eK,SA6eLC,OAAO,GAET,CACEtC,KAAMwB,GACNa,UAhfA,SAifAC,OAAO,GAET,CACEtC,KAAMyB,GACNY,UApfK,SAqfLC,OAAO,GAET,CACEtC,KAAM0B,GACNW,UAxfA,SAyfAC,OAAO,GAET,CACEtC,KAAM2B,GACNU,UA5fA,SA6fAC,OAAO,GAET,CACEtC,KAAM4B,GACNS,UAhgBK,SAigBLC,OAAO,GAET,CACEtC,KAAM6B,GACNQ,UApgBA,SAqgBAC,OAAO,GAET,CACEtC,KAAM8B,GACNO,UAxgBK,SAygBLC,OAAO,GAET,CACEtC,KAAMkB,EACNmB,UA5gBA,KA6gBAC,OAAO,GAET,CACEtC,KAAMmB,EACNkB,UAhhBK,QAihBLC,OAAO,GAET,CACEtC,KAAMoB,GACNiB,UAphBA,SAqhBAC,OAAO,GAET,CACEtC,KAAMsB,GACNe,UAxhBA,SAyhBAC,OAAO,KC5fEnJ,iBA7Ib,SAAAoJ,EAAYhI,GAAO,IAAAN,EAAA,OAAAX,OAAAC,EAAA,EAAAD,CAAAE,KAAA+I,IACjBtI,EAAAX,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiJ,GAAAC,KAAAhJ,KAAMe,KAGRoC,MAAQ,CACN8F,YAAaV,GACbW,SAAUV,GACVjG,KAAM,IAPW9B,EA8BnB0I,eAAiB,SAAAF,GAEf,OADAxI,EAAK2I,sBACE3I,EAAKiD,SAAS,CAAEuF,iBAhCNxI,EAmCnB4I,YAAc,SAAAH,GAEZ,OADA7G,EAAa5B,EAAK0C,MAAMZ,MAAM2B,QAAQ,SAAA3D,GAASA,EAAI+I,WAAW3D,KAAOuD,IAC9DzI,EAAKiD,SAAS,CAAEwF,cArCNzI,EAyEnB8I,kBAAoB,SAAAC,GAClB/I,EAAKiD,SACH,CACEnB,KAAKzC,OAAA6D,EAAA,EAAA7D,CAAA,GACAW,EAAK0C,MAAMZ,KADZzC,OAAA8D,EAAA,EAAA9D,CAAA,GAED0J,EAFC1J,OAAA6D,EAAA,EAAA7D,CAAA,GAGGW,EAAK0C,MAAMZ,KAAKiH,GAHnB,CAIAC,WAAW,OAIjB,WACEhJ,EAAK0C,MAAMZ,KAAKiH,GAAgBF,WAAWI,QAAQjJ,EAAKM,MAAMF,aAAa8I,QAAQC,gBArFtEnJ,EA0FnBoJ,qBAAuB,SAAAL,GACrB/I,EAAKiD,SACH,CACEnB,KAAKzC,OAAA6D,EAAA,EAAA7D,CAAA,GACAW,EAAK0C,MAAMZ,KADZzC,OAAA8D,EAAA,EAAA9D,CAAA,GAED0J,EAFC1J,OAAA6D,EAAA,EAAA7D,CAAA,GAGGW,EAAK0C,MAAMZ,KAAKiH,GAHnB,CAIAC,WAAW,OAIjB,WACEhJ,EAAK0C,MAAMZ,KAAKiH,GAAgBF,WAAWQ,gBAtG9BrJ,EA2GnBsJ,UAAY,SAAAvE,GACV,GAAK/E,EAAKuJ,YAAYC,SAASzE,EAAE0E,SACjC,OAAOzJ,EAAK8I,kBAAkB/D,EAAE0E,UA7GfzJ,EAgHnB0J,QAAU,SAAA3E,GACR,GAAK/E,EAAKuJ,YAAYC,SAASzE,EAAE0E,SACjC,OAAOzJ,EAAKoJ,qBAAqBrE,EAAE0E,UAlHlBzJ,mFAWjBT,KAAKoK,iBACLpK,KAAKqK,gBACLrK,KAAKsK,gEAGYC,EAAWC,GAC5B,GAAIA,EAAUvB,cAAgBjJ,KAAKmD,MAAM8F,YACvC,OAAOjJ,KAAKqK,yDAKdrK,KAAKgK,YAAc3H,EAAaoG,4CAiBlB,IAAAtG,EAAAnC,KACd,OAAOA,KAAK0D,SAAS,CACnBnB,KAAMvC,KAAKyK,OAAO9H,OAAO,SAACJ,EAAMhC,EAAKkG,GACnC,IAAM6C,EAAanH,EAAKpB,MAAMF,aAAa8I,QAAQe,mBACnDpB,EAAW3D,KAAOxD,EAAKgB,MAAM+F,SAC7BI,EAAWT,UAAU8B,eAAepK,EAAIsI,UAAW1G,EAAKpB,MAAMF,aAAa8I,QAAQiB,aACnFtB,EAAWuB,QAEX,IAAMrB,EAAiBf,GAAelI,EAAIiG,MAW1C,OATAjE,EAAKiH,GAAkB,CACrB/C,QACA+C,iBACAF,aACAG,WAAW,EACXX,MAAOvI,EAAIuI,MACXD,UAAWtI,EAAIsI,WAGVtG,GACN,iDAIYiD,GACjBsF,SAASC,iBAAiB,UAAW/K,KAAK+J,WAC1Ce,SAASC,iBAAiB,QAAS/K,KAAKmK,uDAIxC9H,EAAarC,KAAKmD,MAAMZ,MAAM2B,QAAQ,SAAA3D,GAAG,OAAIA,EAAI+I,WAAWQ,gDAoD5D,OACEpJ,EAAAC,EAAAC,cAAC4G,EAAD,CAA0BhH,MAAO,CAAEyI,YAAajJ,KAAKmD,MAAM8F,YAAaC,SAAUlJ,KAAKmD,MAAM+F,WAC3FxI,EAAAC,EAAAC,cAACsG,EAAD,CAA4B1G,MAAO,CACjCwK,SAAUhL,KAAKuJ,kBACf0B,WAAYjL,KAAK6J,qBACjBV,eAAgBnJ,KAAKmJ,eACrBE,YAAarJ,KAAKqJ,cAElB3I,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,iCACb7D,EAAAC,EAAAC,cAACsK,GAAD,MACAxK,EAAAC,EAAAC,cAACuK,GAAD,CAAU5I,KAAMvC,KAAKuC,OACrB7B,EAAAC,EAAAC,cAACwK,GAAD,wCA1GR,OAAOxC,GAAQ5I,KAAKmD,MAAM8F,0CA2F1B,OAAO5G,EAAarC,KAAKmD,MAAMZ,MAAM8I,KAAK,SAAC1K,EAAG2K,GAAQ,OAAO3K,EAAE8F,MAAQ6E,EAAE7E,eAvHnDzF,cAkJpB2D,oLAEF,OACEjE,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,4BACb7D,EAAAC,EAAAC,cAAA,QAAM2D,UAAU,aAAhB,uBAJavD,aAafuK,oLAGF,OACE7K,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,qCACb7D,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,SACb7D,EAAAC,EAAAC,cAAC4K,GAAD,CAAkBlG,SAAUtF,KAAKe,MAAMuG,mBAAmB+B,YAAa7I,MAAOR,KAAKe,MAAM0K,iBAAiBvC,YAE5GxI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC8K,GAAD,CAAgBpG,SAAUtF,KAAKe,MAAMuG,mBAAmB6B,eAAgB3I,MAAOR,KAAKe,MAAM0K,iBAAiBxC,uBAT3FjI,aAgBb0D,IPhLuBtF,EOgLSgI,EAAuBmE,IP/KlE,SAAAtJ,GAAA,SAAA0J,IAAA,OAAA7L,OAAAC,EAAA,EAAAD,CAAAE,KAAA2L,GAAA7L,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6L,GAAAxL,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAA6L,EAAA1J,GAAAnC,OAAAQ,EAAA,EAAAR,CAAA6L,EAAA,EAAApL,IAAA,SAAAC,MAAA,WACW,IAAA2B,EAAAnC,KACP,OACEU,EAAAC,EAAAC,cAAC6G,EAAD,KACG,SAAAgE,GAAgB,OAAI/K,EAAAC,EAAAC,cAACxB,EAADU,OAAAgB,OAAA,GAAsBqB,EAAKpB,MAA3B,CAAkC0K,iBAAkBA,WAJjFE,EAAA,CAAmD3K,cOoL/C4K,8MACJtG,SAAW,SAAAE,GAAC,OAAIC,EAAK1E,MAAMuE,SAASE,EAAEE,OAAOlF,gFAG3C,OACEE,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,iBACb7D,EAAAC,EAAAC,cAAA,SACE2D,UAAU,uCACVe,SAAUtF,KAAKsF,SACf9E,MAAOR,KAAKe,MAAMP,MAClBmF,KAAK,SACLE,IAAK+C,GAAQiD,OAAS,EACtBjG,IAAK,IAEPlF,EAAAC,EAAAC,cAAA,QAAM2D,UAAU,2EAAhB,kBAdqBvD,aA0BvB8K,8MACJxG,SAAW,SAAAE,GAAC,OAAIS,EAAKlF,MAAMuE,SAASE,EAAEE,OAAOlF,gFAG3C,OACEE,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,iBACb7D,EAAAC,EAAAC,cAAA,QAAM2D,UAAU,2EAAhB,YAIA7D,EAAAC,EAAAC,cAAA,UAAQ2D,UAAU,2BAA2Be,SAAUtF,KAAKsF,SAAU9E,MAAOR,KAAKe,MAAMP,OACtFE,EAAAC,EAAAC,cAAA,UAAQJ,MAAOgI,IAAf,QACA9H,EAAAC,EAAAC,cAAA,UAAQJ,MD9NI,UC8NZ,UACAE,EAAAC,EAAAC,cAAA,UAAQJ,MD9NM,YC8Nd,YACAE,EAAAC,EAAAC,cAAA,UAAQJ,MD9NM,YC8Nd,qBAdqBQ,aAwBzB+K,oLACK,IAAAxF,EAAAvG,KACP,OACEU,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,wBACb7D,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,wBACZvE,KAAKe,MAAMwB,KAAKC,IAAI,SAACjC,EAAKkG,GACzB,IAAMuF,EAAYvF,IAAUF,EAAKxF,MAAMwB,KAAKsJ,OAAS,EACrD,OAAOnL,EAAAC,EAAAC,cAACqL,GAAD,CAAKC,OAAQ3L,EAAKyL,UAAWA,EAAWzL,IAAKA,EAAIiJ,4BAP7CxI,aA2DjBiL,GAAM7E,6MA/BV4D,SAAW,WACTpE,EAAK7F,MAAMuG,mBAAmB0D,SAASpE,EAAK7F,MAAMmL,OAAO1C,mBAG3DyB,WAAa,WACXrE,EAAK7F,MAAMuG,mBAAmB2D,WAAWrE,EAAK7F,MAAMmL,OAAO1C,yFAK3D,IAAI2C,EAAe,OASnB,OARInM,KAAKe,MAAMmL,OAAOpD,QAElBqD,EADEnM,KAAKe,MAAMmL,OAAOzF,MAAQ,EACc,GAA1BzG,KAAKe,MAAMmL,OAAOzF,MAAc,GAEP,GAA1BzG,KAAKe,MAAMmL,OAAOzF,OAKnC/F,EAAAC,EAAAC,cAAA,OACE2D,UAAWvE,KAAK6E,QAChBuH,YAAapM,KAAKgL,SAClBqB,UAAWrM,KAAKiL,WAChBqB,WAAYtM,KAAKiL,WACjBsB,MAAO,CAAEC,KAAML,qCAlCnB,OAAOrH,IAAG,8CAA+C,CACvD2H,MAAOzM,KAAKe,MAAMiL,UAClBhH,eAAgBhF,KAAKe,MAAMmL,OAAOzC,UAClCxE,eAAgBjF,KAAKe,MAAMmL,OAAOzC,UAClCiD,aAAc1M,KAAKe,MAAMmL,OAAOpD,MAChC6D,gBAAiB3M,KAAKe,MAAMmL,OAAOpD,eAPpB9H,cClLN4L,eA7Eb,SAAAA,EAAY7L,GAAc,IAAAN,EAAA,OAAAX,OAAAC,EAAA,EAAAD,CAAAE,KAAA4M,IACxBnM,EAAAX,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8M,GAAA5D,KAAAhJ,KAAMe,KAIRoC,MAAQ,CAAE0J,cAAc,GALEpM,EAM1BI,aAA6B,IAAKiM,cAAgBC,OAAOC,oBAN/BvM,EAO1BwM,WAA+B,CAC7B,CACEnK,GAAI,MACJuD,KAAM,cACN6G,KAAM,kBAER,CACEpK,GAAI,OACJuD,KAAM,OACN6G,KAAM,mBAER,CACEpK,GAAI,QACJuD,KAAM,QACN6G,KAAM,qBArBgBzM,EAwB1Ba,UAAuB,GAxBGb,EA0B1B0M,WAAa,SAACF,GACZ,OAAOG,QAAQC,IAAIJ,EAAWzK,IAAI,SAAA8K,GAAS,OAAI7M,EAAK8M,UAAUD,MAC3DE,KAAK,kBAAM/M,EAAKiD,SAAS,CAAEmJ,cAAc,OA5BpBpM,EA+B1B8M,UAAY,SAACD,GACX,OAAOG,MAAMH,EAAUJ,MACpBM,KAAK,SAAAE,GAAG,OAAIA,EAAIC,gBAChBH,KAAK,SAAAG,GAAW,OAAIlN,EAAKI,aAAa+M,gBAAgBD,KACtDH,KAAK,SAAAK,GAAM,OAAIpN,EAAKqN,oBAAoB,CAAEhL,GAAIwK,EAAUxK,GAAIuD,KAAMiH,EAAUjH,KAAMwH,OAAQA,OAnCrEpN,EAsC1BqN,oBAAsB,SAACjL,GACrBpC,EAAKa,UAAUuB,EAAMC,IAAM,CAAEA,GAAID,EAAMC,GAAIuD,KAAMxD,EAAMwD,KAAMwH,OAAQhL,EAAMgL,SAvCnDpN,EA0C1B2D,UAAY,SAACrB,GACX,OAAOtC,EAAKsN,WAAWtN,EAAKa,UAAUyB,GAAS8K,SA3CvBpN,EA+C1BsN,WAAa,SAACF,GACZ,IAAMG,EAASvN,EAAKI,aAAaoN,qBACjCD,EAAOH,OAASA,EAChBG,EAAOtE,QAAQjJ,EAAKI,aAAa+I,aACjCoE,EAAOnD,MAAM,IAjDbpK,EAAK0M,WAAW1M,EAAKwM,YAFGxM,wEAwDxB,OAAKT,KAAKmD,MAAM0J,aAEdnM,EAAAC,EAAAC,cAACnB,EAAD,CAAsBe,MAAO,CAC3B4D,UAAWpE,KAAKoE,UAChBuF,QAAS3J,KAAKa,eAEdH,EAAAC,EAAAC,cAACM,EAAD,CAAmBV,MAAOR,KAAKsB,WAC7BZ,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,2BACb7D,EAAAC,EAAAC,cAAA,OAAK2D,UAAU,OACb7D,EAAAC,EAAAC,cAACsN,GAAD,OAEFxN,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACuN,EAAD,UAZ2B,YAzDnBnN,aCCPoN,oLARX,OACE1N,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAACyN,GAAD,cAJUrN,mBCElBsN,IAASC,OAAO7N,EAAAC,EAAAC,cAAC4N,GAAD,MAAU1D,SAAS2D,eAAe","file":"static/js/main.7cfefe87.chunk.js","sourcesContent":["import React, { Component, createContext } from 'react';\n\nexport const SynthesizerActionsContext = createContext({});\nexport const SynthesizerActionsProvider = SynthesizerActionsContext.Provider;\nexport const SynthesizerActionsConsumer = SynthesizerActionsContext.Consumer;\nexport const withSynthesizerActions = WrappedComponent => {\n  return class WithSynthesizerActionsComponent extends Component {\n    render() {\n      return (\n        <SynthesizerActionsConsumer>\n          {synthesizerActions => <WrappedComponent {...this.props} synthesizerActions={synthesizerActions} />}\n        </SynthesizerActionsConsumer>\n      );\n    }\n  };\n};\n\nexport const SynthesizerStateContext = createContext({});\nexport const SynthesizerStateProvider = SynthesizerStateContext.Provider;\nexport const SynthesizerStateConsumer = SynthesizerStateContext.Consumer;\nexport const withSynthesizerState = WrappedComponent => {\n  return class WithSynthesizerStateComponent extends Component {\n    render() {\n      return (\n        <SynthesizerStateConsumer>\n          {synthesizerState => <WrappedComponent {...this.props} synthesizerState={synthesizerState} />}\n        </SynthesizerStateConsumer>\n      );\n    }\n  };\n};\n","import React, { Component, createContext } from 'react';\n\nexport const AudioContextContext = createContext({});\nexport const AudioContextConsumer = AudioContextContext.Consumer;\nexport const AudioContextProvider = AudioContextContext.Provider;\nexport const withAudioContext = WrappedComponent => {\n  class WithAudioContextComponent extends Component {\n    render() {\n      return (\n        <AudioContextConsumer>\n          {audioContext => <WrappedComponent {...this.props} audioContext={audioContext} />}\n        </AudioContextConsumer>\n      );\n    }\n  }\n\n  return WithAudioContextComponent;\n};\n","import React, { Component, createContext } from 'react';\n\nexport const SoundBankContext = createContext({});\nexport const SoundBankProvider = SoundBankContext.Provider;\nexport const SoundBankConsumer = SoundBankContext.Consumer;\nexport const withSoundBank = WrappedComponent => {\n  return class WithSoundBankComponent extends Component {\n    render() {\n      return (\n        <SoundBankConsumer>{soundBank => <WrappedComponent {...this.props} soundBank={soundBank} />}</SoundBankConsumer>\n      );\n    }\n  };\n};\n","import React, { Component, createContext } from 'react';\n\nexport const DrumMachineActionsContext = createContext({});\nexport const DrumMachineActionsProvider = DrumMachineActionsContext.Provider;\nexport const DrumMachineActionsConsumer = DrumMachineActionsContext.Consumer;\nexport const withDrumMachineActions = WrappedComponent => {\n  return class WithDrumMachineActionsComponent extends Component {\n    render() {\n      return (\n        <DrumMachineActionsConsumer>\n          {drumMachineActions => <WrappedComponent {...this.props} drumMachineActions={drumMachineActions} />}\n        </DrumMachineActionsConsumer>\n      );\n    }\n  };\n};\n\nexport const DrumMachineStateContext = createContext({});\nexport const DrumMachineStateProvider = DrumMachineStateContext.Provider;\nexport const DrumMachineStateConsumer = DrumMachineStateContext.Consumer;\nexport const withDrumMachineState = WrappedComponent => {\n  return class WithDrumMachineStateComponent extends Component {\n    render() {\n      return (\n        <DrumMachineStateConsumer>\n          {drumMachineState => <WrappedComponent {...this.props} drumMachineState={drumMachineState} />}\n        </DrumMachineStateConsumer>\n      );\n    }\n  };\n};\n","/* @flow */\nexport default (object: Object): Array<any> => Object.keys(object).map(key => object[key])\n","/* @flow */\nimport React, { Component } from 'react';\nimport { withSoundBank } from 'components/SoundBank/SoundBankContext';\nimport { withAudioContext } from 'components/Context/AudioContextContext';\nimport {\n  DrumMachineActionsProvider,\n  DrumMachineStateProvider,\n  withDrumMachineActions,\n  withDrumMachineState\n} from 'components/DrumMachine/DrumMachineContext';\nimport objectValues from 'utils/objectValues';\nimport cx from 'classnames';\n\n\ntype Props = {\n  audioContext: Object,\n  soundBank: SoundBank\n};\n\ntype State = {\n  playing: boolean,\n  bpm: number,\n  tracks: RhythmTracks\n};\n\n\nclass DrumMachine extends Component<Props, State> {\n  SEQUENCE_LENGTH = 16;\n\n  deriveTracksFromSoundBank = (): RhythmTracks => {\n    const soundBank: SoundBank = this.props.soundBank;\n    return objectValues(soundBank).reduce((tracks: RhythmTracks, sound: Sound) => {\n      tracks[sound.id] = {\n        soundId: sound.id,\n        sequence: new Array(this.SEQUENCE_LENGTH).fill(0)\n      };\n      return tracks;\n    }, {});\n  };\n\n  state = {\n    playing: false,\n    bpm: 120,\n    tracks: this.deriveTracksFromSoundBank(),\n    noteIndex: 0\n  };\n\n  get tracksAsArray(): Array<RhythmTrack> {\n    return objectValues(this.state.tracks);\n  }\n\n  setSequenceNote = (soundId: string, noteIndex: number, value: number) => {\n    const updatedSequence: Sequence = [...this.state.tracks[soundId].sequence];\n    updatedSequence[noteIndex] = value;\n\n    return this.setState({\n      tracks: {\n        ...this.state.tracks,\n        [soundId]: {\n          ...this.state.tracks[soundId],\n          sequence: updatedSequence\n        }\n      }\n    });\n  };\n\n  get beatsPerMillisecond() {\n    return 60000 / this.state.bpm;\n  }\n\n  play = () => {\n    if (this.state.playing) return;\n    this.setState(\n      {\n        playing: true\n      },\n      () => this.playNoteAt(0)\n    );\n  };\n\n  stop = () => {\n    if (!this.state.playing) return;\n    this.setState({\n      playing: false\n    });\n  };\n\n  playNoteAt(noteIndex) {\n    if (!this.state.playing) return;\n\n    this.tracksAsArray.forEach(track => {\n      if (track.sequence[noteIndex]) {\n        this.props.audioContext.playSound(track.soundId);\n      }\n    });\n\n    this.setState({ noteIndex });\n\n    return setTimeout(() => {\n      return noteIndex === this.SEQUENCE_LENGTH - 1 ? this.playNoteAt(0) : this.playNoteAt(noteIndex + 1);\n    }, this.beatsPerMillisecond);\n  }\n\n  setBpm = bpm => {\n    return this.setState({ bpm });\n  };\n\n  render() {\n    return (\n      <div className='border-gray p1_5 inline-block'>\n        <DrumMachineStateProvider\n          value={{\n            playing: this.state.playing,\n            bpm: this.state.bpm,\n            noteIndex: this.state.noteIndex,\n          }}>\n          <DrumMachineActionsProvider\n            value={{\n              setSequenceNote: this.setSequenceNote,\n              play: this.play,\n              stop: this.stop,\n              setBpm: this.setBpm\n            }}>\n            <Header />\n            <Tracks tracks={this.tracksAsArray} />\n            <Controls />\n          </DrumMachineActionsProvider>\n        </DrumMachineStateProvider>\n      </div>\n    );\n  }\n}\n\nexport default withAudioContext(withSoundBank(DrumMachine));\n\n\ntype HeaderProps = {};\n\nclass Header extends Component<HeaderProps> {\n  render() {\n    return (\n      <div className='flex justify-between mb2'>\n        <span className='uppercase'>Drum Machine</span>\n        <StatusIndicator />\n      </div>\n    );\n  }\n}\n\n\n\n\ntype StatusIndicatorProps = {};\n\nclass StatusIndicatorRaw extends Component<StatusIndicatorProps> {\n  render() {\n    const classes = cx('StatusIndicator', {\n      'StatusIndicator--active': this.props.drumMachineState.playing\n    });\n\n    // const animationDuration = `${1 / (this.props.drumMachineState.bpm / 60)}s`;\n\n    return (\n      <div className='StatusIndicator__Container'>\n        <div className={classes}>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst StatusIndicator = withDrumMachineState(StatusIndicatorRaw);\n\n\ntype ControlsProps = {};\n\nclass ControlsRaw extends Component<ControlsProps> {\n\n  renderPlayButton() {\n    const classes = cx('Button h100 mr_5', {\n     'drop-shadow': !this.props.drumMachineState.playing,\n     'inner-shadow': this.props.drumMachineState.playing\n    });\n    return (\n      <button className={classes} onClick={this.props.drumMachineActions.play}>play</button>\n    );\n  }\n\n  renderStopButton() {\n    const classes = cx('Button h100', {\n     'drop-shadow': this.props.drumMachineState.playing,\n     'inner-shadow': !this.props.drumMachineState.playing\n    });\n    return (\n      <button className={classes} onClick={this.props.drumMachineActions.stop}>stop</button>\n    );\n  }\n\n  render() {\n    return (\n      <div className='Controls flex justify-between mt2'>\n        <div className='mr2'>\n          {this.renderPlayButton()}\n          {this.renderStopButton()}\n        </div>\n        <div>\n          <BpmSelector onChange={this.props.drumMachineActions.setBpm} value={this.props.drumMachineState.bpm} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst Controls = withDrumMachineState(withDrumMachineActions(ControlsRaw));\n\n\n\n\ntype BpmSelectorProps = {};\n\nclass BpmSelector extends Component<BpmSelectorProps> {\n  onChange = e => this.props.onChange(e.target.value);\n\n  render() {\n    return (\n      <div className='h100 relative'>\n        <input className='Input h100 inner-shadow' onChange={this.onChange} value={this.props.value} type='number' min='1' max='999' />\n        <span className='detail color-gray overlay events-none flex justify-end items-center pr2'>\n          BPM\n        </span>\n      </div>\n    )\n  }\n}\n\n\n\n\ntype TracksProps = {\n  tracks: Array<RhythmTrack>\n};\n\nclass Tracks extends Component<TracksProps> {\n  render() {\n    return this.props.tracks.map(track => (\n      <Track track={track} key={track.soundId} />\n    ));\n  }\n}\n\n\n\ntype TrackProps = {\n  track: RhythmTrack,\n  soundBank: SoundBank,\n  drumMachineActions: {\n    setSequenceNote: Function\n  }\n};\n\nclass TrackRaw extends Component<TrackProps> {\n  get soundName() {\n    return this.props.soundBank[this.props.track.soundId].name;\n  }\n\n  onSequenceKeyClick = () => (noteIndex: number, value: number) => {\n    return this.props.drumMachineActions.setSequenceNote(this.props.track.soundId, noteIndex, value);\n  };\n\n  render() {\n    return (\n      <div className='mb1_5'>\n        <div className='mb_5'>{this.soundName}</div>\n        <TrackSequence sequence={this.props.track.sequence} onClickKey={this.onSequenceKeyClick()} />\n      </div>\n    );\n  }\n}\n\nconst Track = withSoundBank(withDrumMachineActions(TrackRaw))\n\n\n\n\n\ntype TrackSequenceProps = {\n  sequence: Sequence,\n  onClickKey: Function\n};\n\nclass TrackSequence extends Component<TrackSequenceProps> {\n  render() {\n    return (\n      <div className=\"flex\">\n        {this.props.sequence.map((note, index) => (\n          <SequenceKey note={note} index={index} key={index} onClick={this.props.onClickKey} />\n        ))}\n      </div>\n    );\n  }\n}\n\n\n\n\ntype SequenceKeyProps = {\n  note: number,\n  onClick: Function\n};\n\nclass SequenceKeyRaw extends Component<SequenceKeyProps> {\n  onClick = () => {\n    const newNoteValue = this.props.note === 0 ? 1 : 0;\n    return this.props.onClick(this.props.index, newNoteValue);\n  }\n\n  get on() {\n    return this.props.note === 1 ? true : false;\n  }\n\n  get active() {\n    if (!this.props.drumMachineState.playing) return false;\n    return this.props.drumMachineState.noteIndex === this.props.index;\n  }\n\n  get classes() {\n    return cx('Key mr_5 border-radius', {\n      'drop-shadow': !this.on,\n      'inner-shadow': this.on,\n      'bg-color-white': !this.active,\n      'bg-color-light-gray': this.active\n    });\n  }\n\n  render() {\n    return (\n      <div\n        className={this.classes}\n        onClick={this.onClick}\n      >\n      </div>\n    )\n  }\n}\n\nconst SequenceKey = withDrumMachineState(SequenceKeyRaw);\n","const A = 'A';\nconst ASHARP = 'ASHARP';\nconst B = 'B';\nconst C = 'C';\nconst C2 = 'C2';\nconst CSHARP = 'CSHARP';\nconst D = 'D';\nconst DSHARP = 'DSHARP';\nconst E = 'E';\nconst F = 'F';\nconst FSHARP = 'FHSARP';\nconst G = 'G';\nconst GSHARP = 'GSHARP';\n\nexport const DEFAULT_OCTIVE_INDEX = 3;\n\nexport const SINE = 'sine';\nexport const SQUARE = 'square';\nexport const SAWTOOTH = 'sawtooth';\nexport const TRIANGLE = 'triangle';\n\nexport const KeyCodeMapping = {\n  [C]: 65,\n  [CSHARP]: 87,\n  [D]: 83,\n  [DSHARP]: 69,\n  [E]: 68,\n  [F]: 70,\n  [FSHARP]: 84,\n  [G]: 71,\n  [GSHARP]: 89,\n  [A]: 72,\n  [ASHARP]: 85,\n  [B]: 74,\n  [C2]: 75\n};\n\nexport const Frequencies = {\n  C1: 32.7032,\n  CSHARP1: 34.64783,\n  D1: 36.7081,\n  DSHARP1: 38.89087,\n  E1: 41.20344,\n  F1: 43.65353,\n  FSHARP1: 46.2493,\n  G1: 48.99943,\n  GSHARP1: 51.91309,\n  A1: 55,\n  ASHARP1: 58.27047,\n  B1: 61.73541,\n  C2: 65.40639,\n  CSHARP2: 69.29566,\n  D2: 73.41619,\n  DSHARP2: 77.78175,\n  E2: 82.40689,\n  F2: 87.30706,\n  FSHARP2: 92.49861,\n  G2: 97.99886,\n  GSHARP2: 103.8262,\n  A2: 110,\n  ASHARP2: 116.5409,\n  B2: 123.4708,\n  C3: 130.8128,\n  CSHARP3: 138.5913,\n  D3: 146.8324,\n  DSHARP3: 155.5635,\n  E3: 164.8138,\n  F3: 174.6141,\n  FSHARP3: 184.9972,\n  G3: 195.9977,\n  GSHARP3: 207.6523,\n  A3: 220,\n  ASHARP3: 233.0819,\n  B3: 246.9417,\n  C4: 261.6256,\n  CSHARP4: 277.1826,\n  D4: 293.6648,\n  DSHARP4: 311.127,\n  E4: 329.6276,\n  F4: 349.2282,\n  FSHARP4: 369.9944,\n  G4: 391.9954,\n  GSHARP4: 415.3047,\n  A4: 440,\n  ASHARP4: 466.1638,\n  B4: 493.8833,\n  C5: 523.2511,\n  CSHARP5: 554.3653,\n  D5: 587.3295,\n  DSHARP5: 622.254,\n  E5: 659.2551,\n  F5: 698.4565,\n  FSHARP5: 739.9888,\n  G5: 783.9909,\n  GSHARP5: 830.6094,\n  A5: 880,\n  ASHARP5: 932.3275,\n  B5: 987.7666,\n  C6: 1046.502,\n  CSHARP6: 1108.731,\n  D6: 1174.659,\n  DSHARP6: 1244.508,\n  E6: 1318.51,\n  F6: 1396.913,\n  FSHARP6: 1479.978,\n  G6: 1567.982,\n  GSHARP6: 1661.219,\n  A6: 1760,\n  ASHARP6: 1864.655,\n  B6: 1975.533,\n  C7: 2093.005,\n  CSHARP7: 2217.461,\n  D7: 2349.318,\n  DSHARP7: 2489.016,\n  E7: 2637.02,\n  F7: 2793.826,\n  FSHARP7: 2959.955,\n  G7: 3135.963,\n  GSHARP7: 3322.438,\n  A7: 3520,\n  ASHARP7: 3729.31,\n  B7: 3951.066,\n  C8: 4186.009,\n  CSHARP8: 4434.922,\n  D8: 4698.636,\n  DSHARP8: 4978.032,\n  E8: 5274.041,\n  F8: 5587.652,\n  FSHARP8: 5919.911,\n  G8: 6271.927,\n  GSHARP8: 6644.875,\n  A8: 7040,\n  ASHARP8: 7458.62,\n  B8: 7902.133,\n  C9: 8372.019\n};\n\nexport const Octaves = [\n  [\n    {\n      note: C,\n      frequency: Frequencies.C1,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP1,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D1,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP1,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E1,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F1,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP1,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G1,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP1,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A1,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP1,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B1,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C2,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C2,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP2,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D2,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP2,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E2,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F2,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP2,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G2,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP2,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A2,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP2,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B2,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C3,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C3,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP3,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D3,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP3,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E3,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F3,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP3,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G3,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP3,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A3,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP3,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B3,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C4,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C4,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP4,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D4,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP4,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E4,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F4,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP4,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G4,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP4,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A4,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP4,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B4,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C5,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C5,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP5,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D5,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP5,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E5,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F5,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP5,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G5,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP5,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A5,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP5,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B5,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C6,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C6,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP6,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D6,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP6,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E6,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F6,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP6,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G6,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP6,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A6,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP6,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B6,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C7,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C7,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP7,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D7,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP7,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E7,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F7,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP7,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G7,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP7,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A7,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP7,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B7,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C8,\n      sharp: false\n    }\n  ],\n  [\n    {\n      note: C,\n      frequency: Frequencies.C8,\n      sharp: false\n    },\n    {\n      note: CSHARP,\n      frequency: Frequencies.CSHARP8,\n      sharp: true\n    },\n    {\n      note: D,\n      frequency: Frequencies.D8,\n      sharp: false\n    },\n    {\n      note: DSHARP,\n      frequency: Frequencies.DSHARP8,\n      sharp: true\n    },\n    {\n      note: E,\n      frequency: Frequencies.E8,\n      sharp: false\n    },\n    {\n      note: F,\n      frequency: Frequencies.F8,\n      sharp: false\n    },\n    {\n      note: FSHARP,\n      frequency: Frequencies.FSHARP8,\n      sharp: true\n    },\n    {\n      note: G,\n      frequency: Frequencies.G8,\n      sharp: false\n    },\n    {\n      note: GSHARP,\n      frequency: Frequencies.GSHARP8,\n      sharp: true\n    },\n    {\n      note: A,\n      frequency: Frequencies.A8,\n      sharp: false\n    },\n    {\n      note: ASHARP,\n      frequency: Frequencies.ASHARP8,\n      sharp: true\n    },\n    {\n      note: B,\n      frequency: Frequencies.B8,\n      sharp: false\n    },\n    {\n      note: C2,\n      frequency: Frequencies.C9,\n      sharp: false\n    }\n  ]\n];\n","/* @flow */\nimport React, { Component } from 'react';\nimport { withAudioContext } from 'components/Context/AudioContextContext';\nimport {\n  SynthesizerActionsProvider,\n  SynthesizerStateProvider,\n  withSynthesizerActions,\n  withSynthesizerState\n} from 'components/Synthesizer/SynthesizerContext';\nimport cx from 'classnames';\nimport objectValues from 'utils/objectValues';\nimport {\n  Octaves,\n  KeyCodeMapping,\n  DEFAULT_OCTIVE_INDEX,\n  SINE,\n  SQUARE,\n  SAWTOOTH,\n  TRIANGLE\n} from 'components/Synthesizer/Keyboard';\n\nclass Synthesizer extends Component<SynthesizerProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  state = {\n    octaveIndex: DEFAULT_OCTIVE_INDEX,\n    waveform: SINE,\n    keys: {}\n  };\n\n  componentDidMount() {\n    this.setEnabledKeys();\n    this.setOctaveKeys();\n    this.bindKeyboardEvents();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.octaveIndex !== this.state.octaveIndex) {\n      return this.setOctaveKeys();\n    }\n  }\n\n  setEnabledKeys() {\n    this.enabledKeys = objectValues(KeyCodeMapping);\n  }\n\n  get octave() {\n    return Octaves[this.state.octaveIndex];\n  }\n\n  setOctaveIndex = octaveIndex => {\n    this.disconnectAllOctave();\n    return this.setState({ octaveIndex });\n  }\n\n  setWaveform = waveform => {\n    objectValues(this.state.keys).forEach(key => { key.oscillator.type = waveform });\n    return this.setState({ waveform });\n  }\n\n  setOctaveKeys() {\n    return this.setState({\n      keys: this.octave.reduce((keys, key, index) => {\n        const oscillator = this.props.audioContext.context.createOscillator();\n        oscillator.type = this.state.waveform;\n        oscillator.frequency.setValueAtTime(key.frequency, this.props.audioContext.context.currentTime);\n        oscillator.start();\n\n        const triggerKeyCode = KeyCodeMapping[key.note];\n\n        keys[triggerKeyCode] = {\n          index,\n          triggerKeyCode,\n          oscillator,\n          isPressed: false,\n          sharp: key.sharp,\n          frequency: key.frequency,\n        };\n\n        return keys;\n      }, {})\n    });\n  }\n\n  bindKeyboardEvents(e) {\n    document.addEventListener('keydown', this.onKeyDown);\n    document.addEventListener('keyup', this.onKeyUp);\n  }\n\n  disconnectAllOctave() {\n    objectValues(this.state.keys).forEach(key => key.oscillator.disconnect());\n  }\n\n  connectOscillator = triggerKeyCode => {\n    this.setState(\n      {\n        keys: {\n          ...this.state.keys,\n          [triggerKeyCode]: {\n            ...this.state.keys[triggerKeyCode],\n            isPressed: true\n          }\n        }\n      },\n      () => {\n        this.state.keys[triggerKeyCode].oscillator.connect(this.props.audioContext.context.destination);\n      }\n    );\n  };\n\n  disconnectOscillator = triggerKeyCode => {\n    this.setState(\n      {\n        keys: {\n          ...this.state.keys,\n          [triggerKeyCode]: {\n            ...this.state.keys[triggerKeyCode],\n            isPressed: false\n          }\n        }\n      },\n      () => {\n        this.state.keys[triggerKeyCode].oscillator.disconnect();\n      }\n    );\n  };\n\n  onKeyDown = e => {\n    if (!this.enabledKeys.includes(e.keyCode)) return;\n    return this.connectOscillator(e.keyCode);\n  };\n\n  onKeyUp = e => {\n    if (!this.enabledKeys.includes(e.keyCode)) return;\n    return this.disconnectOscillator(e.keyCode);\n  };\n\n  get keys() {\n    return objectValues(this.state.keys).sort((a, b) => { return a.index - b.index });\n  }\n\n  render() {\n    return (\n      <SynthesizerStateProvider value={{ octaveIndex: this.state.octaveIndex, waveform: this.state.waveform }}>\n        <SynthesizerActionsProvider value={{\n          pressKey: this.connectOscillator,\n          releaseKey: this.disconnectOscillator,\n          setOctaveIndex: this.setOctaveIndex,\n          setWaveform: this.setWaveform\n        }}>\n          <div className=\"border-gray p1_5 inline-block\">\n            <Header />\n            <Keyboard keys={this.keys} />\n            <Controls />\n          </div>\n        </SynthesizerActionsProvider>\n      </SynthesizerStateProvider>\n    );\n  }\n}\n\nexport default withAudioContext(Synthesizer);\n\ntype HeaderProps = {};\n\nclass Header extends Component<HeaderProps> {\n  render() {\n    return (\n      <div className=\"flex justify-between mb2\">\n        <span className=\"uppercase\">Synthesizer</span>\n      </div>\n    );\n  }\n}\n\n\ntype ControlsProps = {};\n\nclass ControlsRaw extends Component<ControlsProps> {\n\n  render() {\n    return (\n      <div className='Controls flex justify-between mt2'>\n        <div className='mr1_5'>\n          <WaveformSelector onChange={this.props.synthesizerActions.setWaveform} value={this.props.synthesizerState.waveform} />\n        </div>\n        <div>\n          <OctaveSelector onChange={this.props.synthesizerActions.setOctaveIndex} value={this.props.synthesizerState.octaveIndex} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport const Controls = withSynthesizerState(withSynthesizerActions(ControlsRaw));\n\n\ntype OctaveSelectorProps = {};\n\nclass OctaveSelector extends Component<OctaveSelectorProps> {\n  onChange = e => this.props.onChange(e.target.value);\n\n  render() {\n    return (\n      <div className='h100 relative'>\n        <input\n          className='Input Input--small h100 inner-shadow'\n          onChange={this.onChange}\n          value={this.props.value}\n          type=\"number\"\n          max={Octaves.length - 1}\n          min={0}\n        />\n        <span className='detail color-gray overlay events-none flex justify-end items-center pr2'>\n          OCTAVE\n        </span>\n      </div>\n    )\n  }\n}\n\n\n\ntype WaveformSelectorProps = {};\n\nclass WaveformSelector extends Component<WaveformSelectorProps> {\n  onChange = e => this.props.onChange(e.target.value);\n\n  render() {\n    return (\n      <div className='h100 relative'>\n        <span className='detail color-gray overlay events-none flex justify-end items-center pr1'>\n          WAVEFORM\n        </span>\n\n        <select className='Select h100 inner-shadow' onChange={this.onChange} value={this.props.value}>\n          <option value={SINE}>SINE</option>\n          <option value={SQUARE}>SQUARE</option>\n          <option value={SAWTOOTH}>SAWTOOTH</option>\n          <option value={TRIANGLE}>TRIANGLE</option>\n        </select>\n      </div>\n    )\n  }\n}\n\n\ntype KeyboardProps = {};\n\nclass Keyboard extends Component<KeyboardProps> {\n  render() {\n    return (\n      <div className='Keyboard text-center'>\n        <div className='inline-flex relative'>\n          {this.props.keys.map((key, index) => {\n            const isLastKey = index === this.props.keys.length - 1;\n            return <Key keyObj={key} isLastKey={isLastKey} key={key.triggerKeyCode} />;\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\ntype KeyProps = {};\n\nclass KeyRaw extends Component<KeyProps> {\n  get classes() {\n    return cx('Key Key--large bg-color-white border-radius', {\n      mr_5: !this.props.isLastKey,\n      'drop-shadow': !this.props.keyObj.isPressed,\n      'inner-shadow': this.props.keyObj.isPressed,\n      'Key--sharp': this.props.keyObj.sharp,\n      'Key--regular': !this.props.keyObj.sharp\n    });\n  }\n\n  pressKey = () => {\n    this.props.synthesizerActions.pressKey(this.props.keyObj.triggerKeyCode);\n  };\n\n  releaseKey = () => {\n    this.props.synthesizerActions.releaseKey(this.props.keyObj.triggerKeyCode);\n  };\n\n  render() {\n\n    let leftPosition = 'auto';\n    if (this.props.keyObj.sharp) {\n      if (this.props.keyObj.index > 4) {\n        leftPosition = (this.props.keyObj.index * 24) + 24;\n      } else {\n        leftPosition = this.props.keyObj.index * 24;\n      }\n    }\n\n    return (\n      <div\n        className={this.classes}\n        onMouseDown={this.pressKey}\n        onMouseUp={this.releaseKey}\n        onMouseOut={this.releaseKey}\n        style={{ left: leftPosition }}\n      />\n    );\n  }\n}\n\nconst Key = withSynthesizerActions(KeyRaw);\n","/* @flow */\nimport React, { Component } from 'react';\nimport { AudioContextProvider } from 'components/Context/AudioContextContext';\nimport { SoundBankProvider } from 'components/SoundBank/SoundBankContext';\nimport DrumMachine from 'components/DrumMachine';\nimport Synthesizer from 'components/Synthesizer';\n\ntype Props = {};\ntype State = {\n  soundsLoaded: boolean\n};\n\nclass Context extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.loadSounds(this.soundFiles);\n  }\n\n  state = { soundsLoaded: false };\n  audioContext: AudioContext = new (AudioContext || window.webkitAudioContext)();\n  soundFiles: Array<SoundFile> = [\n    {\n      id: 'hat',\n      name: 'HiHat',\n      path: 'sounds/hat.wav'\n    },\n    {\n      id: 'kick',\n      name: 'Kick',\n      path: 'sounds/kick.wav'\n    },\n    {\n      id: 'snare',\n      name: 'Snare',\n      path: 'sounds/snare.wav'\n    }\n  ];\n  soundBank: SoundBank = {};\n\n  loadSounds = (soundFiles: Array<SoundFile>) => {\n    return Promise.all(soundFiles.map(soundFile => this.loadSound(soundFile)))\n      .then(() => this.setState({ soundsLoaded: true }));\n  }\n\n  loadSound = (soundFile: SoundFile) => {\n    return fetch(soundFile.path)\n      .then(res => res.arrayBuffer())\n      .then(arrayBuffer => this.audioContext.decodeAudioData(arrayBuffer))\n      .then(buffer => this.addSoundToSoundBank({ id: soundFile.id, name: soundFile.name, buffer: buffer }))\n  }\n\n  addSoundToSoundBank = (sound: Sound) => {\n    this.soundBank[sound.id] = { id: sound.id, name: sound.name, buffer: sound.buffer };\n  }\n\n  playSound = (soundId: string) => {\n    return this.playBuffer(this.soundBank[soundId].buffer);\n    // return source[source.start ? 'start' : 'noteOn'](time);\n  }\n\n  playBuffer = (buffer: AudioBuffer) => {\n    const source = this.audioContext.createBufferSource();\n    source.buffer = buffer;\n    source.connect(this.audioContext.destination);\n    source.start(0);\n    // return source[source.start ? 'start' : 'noteOn'](time);\n  }\n\n  render() {\n    if (!this.state.soundsLoaded) return null;\n    return (\n      <AudioContextProvider value={{\n        playSound: this.playSound,\n        context: this.audioContext\n      }}>\n        <SoundBankProvider value={this.soundBank}>\n          <div className='flex justify-center mt4'>\n            <div className='mr2'>\n              <Synthesizer />\n            </div>\n            <div>\n              <DrumMachine />\n            </div>\n          </div>\n        </SoundBankProvider>\n      </AudioContextProvider>\n    );\n  }\n}\n\nexport default Context;\n","import React, { Component } from 'react';\nimport Context from 'components/Context';\n\nclass App extends Component {\n  render() {\n    return (\n      <main>\n        <Context />\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Main from 'Main';\nimport 'styles/index.scss';\n\nReactDOM.render(<Main />, document.getElementById('root'));\n"],"sourceRoot":""}